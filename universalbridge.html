<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1 plus MathML 2.0//EN" "http://www.w3.org/Math/DTD/mathml2/xhtml-math11-f.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><!--This file was converted to xhtml by LibreOffice - see http://cgit.freedesktop.org/libreoffice/core/tree/filter/source/xslt for the code.--><head profile="http://dublincore.org/documents/dcmi-terms/"><meta http-equiv="Content-Type" content="application/xhtml+xml; charset=utf-8"/><title xml:lang="en-US">- no title specified</title><meta name="DCTERMS.title" content="" xml:lang="en-US"/><meta name="DCTERMS.language" content="en-US" scheme="DCTERMS.RFC4646"/><meta name="DCTERMS.source" content="http://xml.openoffice.org/odf2xhtml"/><meta name="DCTERMS.creator" content="Erik Slagter"/><meta name="DCTERMS.issued" content="2016-02-29T14:40:51.615450449" scheme="DCTERMS.W3CDTF"/><meta name="DCTERMS.modified" content="2016-03-10T19:48:08.614645118" scheme="DCTERMS.W3CDTF"/><meta name="DCTERMS.provenance" content="" xml:lang="en-US"/><meta name="DCTERMS.subject" content="," xml:lang="en-US"/><link rel="schema.DC" href="http://purl.org/dc/elements/1.1/" hreflang="en"/><link rel="schema.DCTERMS" href="http://purl.org/dc/terms/" hreflang="en"/><link rel="schema.DCTYPE" href="http://purl.org/dc/dcmitype/" hreflang="en"/><link rel="schema.DCAM" href="http://purl.org/dc/dcam/" hreflang="en"/><style type="text/css">
	@page {  }
	table { border-collapse:collapse; border-spacing:0; empty-cells:show }
	td, th { vertical-align:top; font-size:12pt;}
	h1, h2, h3, h4, h5, h6 { clear:both }
	ol, ul { margin:0; padding:0;}
	li { list-style: none; margin:0; padding:0;}
	<!-- "li span.odfLiEnd" - IE 7 issue-->
	li span. { clear: both; line-height:0; width:0; height:0; margin:0; padding:0; }
	span.footnodeNumber { padding-right:1em; }
	span.annotation_style_by_filter { font-size:95%; font-family:Arial; background-color:#fff000;  margin:0; border:0; padding:0;  }
	* { margin:0;}
	.Heading_20_3 { font-size:12pt; font-weight:bold; margin-bottom:0.3cm; margin-top:0.499cm; font-family:FreeSans; writing-mode:page; }
	.P1_borderStart { background-color:transparent; font-size:10pt; line-height:120%; margin-top:0cm; font-family:FreeSans; writing-mode:page; padding-bottom:0cm;  border-bottom-style:none; }
	.P1 { background-color:transparent; font-size:10pt; line-height:120%; font-family:FreeSans; writing-mode:page; padding-bottom:0cm; padding-top:0cm;  border-top-style:none; border-bottom-style:none; }
	.P1_borderEnd { background-color:transparent; font-size:10pt; line-height:120%; margin-bottom:0cm; font-family:FreeSans; writing-mode:page; padding-top:0cm;  border-top-style:none;}
	.P10 { font-size:12pt; font-weight:bold; margin-bottom:0.3cm; margin-top:0.499cm; font-family:FreeSans; writing-mode:page; }
	.P100_borderStart { background-color:transparent; font-size:10pt; line-height:120%; margin-top:0cm; font-family:FreeSans; writing-mode:page; padding-bottom:0cm;  border-bottom-style:none; }
	.P100 { background-color:transparent; font-size:10pt; line-height:120%; font-family:FreeSans; writing-mode:page; padding-bottom:0cm; padding-top:0cm;  border-top-style:none; border-bottom-style:none; }
	.P100_borderEnd { background-color:transparent; font-size:10pt; line-height:120%; margin-bottom:0cm; font-family:FreeSans; writing-mode:page; padding-top:0cm;  border-top-style:none;}
	.P101_borderStart { background-color:transparent; font-size:10pt; line-height:120%; margin-top:0cm; font-family:FreeSans; writing-mode:page; padding-bottom:0cm;  border-bottom-style:none; }
	.P101 { background-color:transparent; font-size:10pt; line-height:120%; font-family:FreeSans; writing-mode:page; padding-bottom:0cm; padding-top:0cm;  border-top-style:none; border-bottom-style:none; }
	.P101_borderEnd { background-color:transparent; font-size:10pt; line-height:120%; margin-bottom:0cm; font-family:FreeSans; writing-mode:page; padding-top:0cm;  border-top-style:none;}
	.P102_borderStart { background-color:transparent; font-size:10pt; line-height:120%; margin-top:0cm; font-family:FreeSans; writing-mode:page; padding-bottom:0cm;  border-bottom-style:none; }
	.P102 { background-color:transparent; font-size:10pt; line-height:120%; font-family:FreeSans; writing-mode:page; padding-bottom:0cm; padding-top:0cm;  border-top-style:none; border-bottom-style:none; }
	.P102_borderEnd { background-color:transparent; font-size:10pt; line-height:120%; margin-bottom:0cm; font-family:FreeSans; writing-mode:page; padding-top:0cm;  border-top-style:none;}
	.P103_borderStart { background-color:transparent; font-size:10pt; line-height:120%; margin-top:0cm; font-family:FreeSans; writing-mode:page; padding-bottom:0cm;  border-bottom-style:none; }
	.P103 { background-color:transparent; font-size:10pt; line-height:120%; font-family:FreeSans; writing-mode:page; padding-bottom:0cm; padding-top:0cm;  border-top-style:none; border-bottom-style:none; }
	.P103_borderEnd { background-color:transparent; font-size:10pt; line-height:120%; margin-bottom:0cm; font-family:FreeSans; writing-mode:page; padding-top:0cm;  border-top-style:none;}
	.P104_borderStart { background-color:transparent; font-size:10pt; line-height:120%; margin-top:0cm; font-family:FreeSans; writing-mode:page; padding-bottom:0cm;  border-bottom-style:none; }
	.P104 { background-color:transparent; font-size:10pt; line-height:120%; font-family:FreeSans; writing-mode:page; padding-bottom:0cm; padding-top:0cm;  border-top-style:none; border-bottom-style:none; }
	.P104_borderEnd { background-color:transparent; font-size:10pt; line-height:120%; margin-bottom:0cm; font-family:FreeSans; writing-mode:page; padding-top:0cm;  border-top-style:none;}
	.P105_borderStart { background-color:transparent; font-size:10pt; line-height:120%; margin-top:0cm; font-family:FreeSans; writing-mode:page; padding-bottom:0cm;  border-bottom-style:none; }
	.P105 { background-color:transparent; font-size:10pt; line-height:120%; font-family:FreeSans; writing-mode:page; padding-bottom:0cm; padding-top:0cm;  border-top-style:none; border-bottom-style:none; }
	.P105_borderEnd { background-color:transparent; font-size:10pt; line-height:120%; margin-bottom:0cm; font-family:FreeSans; writing-mode:page; padding-top:0cm;  border-top-style:none;}
	.P106_borderStart { background-color:transparent; font-size:10pt; line-height:120%; margin-top:0cm; font-family:FreeSans; writing-mode:page; padding-bottom:0cm;  border-bottom-style:none; }
	.P106 { background-color:transparent; font-size:10pt; line-height:120%; font-family:FreeSans; writing-mode:page; padding-bottom:0cm; padding-top:0cm;  border-top-style:none; border-bottom-style:none; }
	.P106_borderEnd { background-color:transparent; font-size:10pt; line-height:120%; margin-bottom:0cm; font-family:FreeSans; writing-mode:page; padding-top:0cm;  border-top-style:none;}
	.P107_borderStart { background-color:transparent; font-size:10pt; line-height:120%; margin-top:0cm; font-family:FreeSans; writing-mode:page; padding-bottom:0cm;  border-bottom-style:none; }
	.P107 { background-color:transparent; font-size:10pt; line-height:120%; font-family:FreeSans; writing-mode:page; padding-bottom:0cm; padding-top:0cm;  border-top-style:none; border-bottom-style:none; }
	.P107_borderEnd { background-color:transparent; font-size:10pt; line-height:120%; margin-bottom:0cm; font-family:FreeSans; writing-mode:page; padding-top:0cm;  border-top-style:none;}
	.P108_borderStart { background-color:transparent; font-size:10pt; line-height:120%; margin-top:0cm; font-family:FreeSans; writing-mode:page; text-decoration:none ! important; padding-bottom:0cm;  border-bottom-style:none; }
	.P108 { background-color:transparent; font-size:10pt; line-height:120%; font-family:FreeSans; writing-mode:page; text-decoration:none ! important; padding-bottom:0cm; padding-top:0cm;  border-top-style:none; border-bottom-style:none; }
	.P108_borderEnd { background-color:transparent; font-size:10pt; line-height:120%; margin-bottom:0cm; font-family:FreeSans; writing-mode:page; text-decoration:none ! important; padding-top:0cm;  border-top-style:none;}
	.P109_borderStart { background-color:transparent; font-size:10pt; line-height:120%; margin-top:0cm; font-family:FreeSans; writing-mode:page; padding-bottom:0cm;  border-bottom-style:none; }
	.P109 { background-color:transparent; font-size:10pt; line-height:120%; font-family:FreeSans; writing-mode:page; padding-bottom:0cm; padding-top:0cm;  border-top-style:none; border-bottom-style:none; }
	.P109_borderEnd { background-color:transparent; font-size:10pt; line-height:120%; margin-bottom:0cm; font-family:FreeSans; writing-mode:page; padding-top:0cm;  border-top-style:none;}
	.P11 { font-size:10pt; font-family:Nimbus Mono L; writing-mode:page; font-weight:bold; }
	.P110_borderStart { background-color:transparent; font-size:10pt; line-height:120%; margin-top:0cm; font-family:FreeSans; writing-mode:page; padding-bottom:0cm;  border-bottom-style:none; }
	.P110 { background-color:transparent; font-size:10pt; line-height:120%; font-family:FreeSans; writing-mode:page; padding-bottom:0cm; padding-top:0cm;  border-top-style:none; border-bottom-style:none; }
	.P110_borderEnd { background-color:transparent; font-size:10pt; line-height:120%; margin-bottom:0cm; font-family:FreeSans; writing-mode:page; padding-top:0cm;  border-top-style:none;}
	.P111_borderStart { background-color:transparent; font-size:10pt; line-height:120%; margin-top:0cm; font-family:FreeSans; writing-mode:page; padding-bottom:0cm;  border-bottom-style:none; }
	.P111 { background-color:transparent; font-size:10pt; line-height:120%; font-family:FreeSans; writing-mode:page; padding-bottom:0cm; padding-top:0cm;  border-top-style:none; border-bottom-style:none; }
	.P111_borderEnd { background-color:transparent; font-size:10pt; line-height:120%; margin-bottom:0cm; font-family:FreeSans; writing-mode:page; padding-top:0cm;  border-top-style:none;}
	.P112_borderStart { background-color:transparent; font-size:10pt; line-height:120%; margin-top:0cm; font-family:FreeSans; writing-mode:page; padding-bottom:0cm;  border-bottom-style:none; }
	.P112 { background-color:transparent; font-size:10pt; line-height:120%; font-family:FreeSans; writing-mode:page; padding-bottom:0cm; padding-top:0cm;  border-top-style:none; border-bottom-style:none; }
	.P112_borderEnd { background-color:transparent; font-size:10pt; line-height:120%; margin-bottom:0cm; font-family:FreeSans; writing-mode:page; padding-top:0cm;  border-top-style:none;}
	.P113_borderStart { background-color:transparent; font-size:10pt; line-height:120%; margin-top:0cm; font-family:FreeSans; writing-mode:page; padding-bottom:0cm;  border-bottom-style:none; }
	.P113 { background-color:transparent; font-size:10pt; line-height:120%; font-family:FreeSans; writing-mode:page; padding-bottom:0cm; padding-top:0cm;  border-top-style:none; border-bottom-style:none; }
	.P113_borderEnd { background-color:transparent; font-size:10pt; line-height:120%; margin-bottom:0cm; font-family:FreeSans; writing-mode:page; padding-top:0cm;  border-top-style:none;}
	.P114_borderStart { background-color:transparent; font-size:10pt; line-height:120%; margin-top:0cm; font-family:FreeSans; writing-mode:page; padding-bottom:0cm;  border-bottom-style:none; }
	.P114 { background-color:transparent; font-size:10pt; line-height:120%; font-family:FreeSans; writing-mode:page; padding-bottom:0cm; padding-top:0cm;  border-top-style:none; border-bottom-style:none; }
	.P114_borderEnd { background-color:transparent; font-size:10pt; line-height:120%; margin-bottom:0cm; font-family:FreeSans; writing-mode:page; padding-top:0cm;  border-top-style:none;}
	.P115_borderStart { background-color:transparent; font-size:10pt; line-height:120%; margin-top:0cm; font-family:FreeSans; writing-mode:page; padding-bottom:0cm;  border-bottom-style:none; }
	.P115 { background-color:transparent; font-size:10pt; line-height:120%; font-family:FreeSans; writing-mode:page; padding-bottom:0cm; padding-top:0cm;  border-top-style:none; border-bottom-style:none; }
	.P115_borderEnd { background-color:transparent; font-size:10pt; line-height:120%; margin-bottom:0cm; font-family:FreeSans; writing-mode:page; padding-top:0cm;  border-top-style:none;}
	.P116_borderStart { background-color:transparent; font-size:10pt; line-height:120%; margin-top:0cm; font-family:FreeSans; writing-mode:page; padding-bottom:0cm;  border-bottom-style:none; }
	.P116 { background-color:transparent; font-size:10pt; line-height:120%; font-family:FreeSans; writing-mode:page; padding-bottom:0cm; padding-top:0cm;  border-top-style:none; border-bottom-style:none; }
	.P116_borderEnd { background-color:transparent; font-size:10pt; line-height:120%; margin-bottom:0cm; font-family:FreeSans; writing-mode:page; padding-top:0cm;  border-top-style:none;}
	.P117_borderStart { background-color:transparent; font-size:10pt; line-height:120%; margin-top:0cm; font-family:FreeSans; writing-mode:page; padding-bottom:0cm;  border-bottom-style:none; }
	.P117 { background-color:transparent; font-size:10pt; line-height:120%; font-family:FreeSans; writing-mode:page; padding-bottom:0cm; padding-top:0cm;  border-top-style:none; border-bottom-style:none; }
	.P117_borderEnd { background-color:transparent; font-size:10pt; line-height:120%; margin-bottom:0cm; font-family:FreeSans; writing-mode:page; padding-top:0cm;  border-top-style:none;}
	.P118_borderStart { background-color:transparent; font-size:10pt; line-height:120%; margin-top:0cm; font-family:FreeSans; writing-mode:page; padding-bottom:0cm;  border-bottom-style:none; }
	.P118 { background-color:transparent; font-size:10pt; line-height:120%; font-family:FreeSans; writing-mode:page; padding-bottom:0cm; padding-top:0cm;  border-top-style:none; border-bottom-style:none; }
	.P118_borderEnd { background-color:transparent; font-size:10pt; line-height:120%; margin-bottom:0cm; font-family:FreeSans; writing-mode:page; padding-top:0cm;  border-top-style:none;}
	.P12 { font-size:10pt; font-family:Nimbus Mono L; writing-mode:page; font-weight:bold; }
	.P13 { font-size:10pt; font-family:Nimbus Mono L; writing-mode:page; font-weight:bold; }
	.P14 { font-size:10pt; font-family:Nimbus Mono L; writing-mode:page; font-weight:bold; }
	.P15 { font-size:10pt; font-family:Nimbus Mono L; writing-mode:page; font-weight:bold; }
	.P16 { font-size:10pt; font-family:Nimbus Mono L; writing-mode:page; font-weight:bold; }
	.P17 { font-size:10pt; font-family:Nimbus Mono L; writing-mode:page; font-weight:bold; }
	.P18 { font-size:10pt; font-family:Nimbus Mono L; writing-mode:page; font-weight:bold; }
	.P19 { font-size:10pt; font-family:Nimbus Mono L; writing-mode:page; font-weight:bold; }
	.P2_borderStart { background-color:transparent; font-size:10pt; line-height:120%; margin-top:0cm; font-family:FreeSans; writing-mode:page; padding-bottom:0cm;  border-bottom-style:none; }
	.P2 { background-color:transparent; font-size:10pt; line-height:120%; font-family:FreeSans; writing-mode:page; padding-bottom:0cm; padding-top:0cm;  border-top-style:none; border-bottom-style:none; }
	.P2_borderEnd { background-color:transparent; font-size:10pt; line-height:120%; margin-bottom:0cm; font-family:FreeSans; writing-mode:page; padding-top:0cm;  border-top-style:none;}
	.P20 { font-size:10pt; font-family:Nimbus Mono L; writing-mode:page; font-style:italic; font-weight:bold; }
	.P21 { font-size:10pt; font-family:Nimbus Mono L; writing-mode:page; font-style:italic; font-weight:bold; }
	.P22 { font-size:10pt; font-family:Nimbus Mono L; writing-mode:page; font-style:italic; font-weight:bold; }
	.P23 { font-size:10pt; font-family:Nimbus Mono L; writing-mode:page; font-style:italic; font-weight:bold; }
	.P24 { font-size:10pt; font-family:Nimbus Mono L; writing-mode:page; font-style:italic; font-weight:bold; }
	.P25 { font-size:10pt; font-family:Nimbus Mono L; writing-mode:page; font-style:italic; font-weight:bold; }
	.P26 { font-size:10pt; font-family:Nimbus Mono L; writing-mode:page; font-style:italic; font-weight:bold; }
	.P27 { font-size:10pt; font-family:Nimbus Mono L; writing-mode:page; font-style:italic; font-weight:bold; }
	.P28 { font-size:10pt; font-family:Nimbus Mono L; writing-mode:page; font-style:italic; font-weight:bold; }
	.P29 { font-size:10pt; font-family:Nimbus Mono L; writing-mode:page; font-style:italic; font-weight:bold; }
	.P3_borderStart { background-color:transparent; font-size:10pt; line-height:120%; margin-top:0cm; font-family:FreeSans; writing-mode:page; padding-bottom:0cm;  border-bottom-style:none; }
	.P3 { background-color:transparent; font-size:10pt; line-height:120%; font-family:FreeSans; writing-mode:page; padding-bottom:0cm; padding-top:0cm;  border-top-style:none; border-bottom-style:none; }
	.P3_borderEnd { background-color:transparent; font-size:10pt; line-height:120%; margin-bottom:0cm; font-family:FreeSans; writing-mode:page; padding-top:0cm;  border-top-style:none;}
	.P30 { font-size:10pt; font-family:Nimbus Mono L; writing-mode:page; font-style:normal; font-weight:bold; }
	.P31 { font-size:10pt; font-family:Nimbus Mono L; writing-mode:page; font-style:normal; font-weight:bold; }
	.P32 { font-size:10pt; font-family:Nimbus Mono L; writing-mode:page; font-style:normal; font-weight:bold; }
	.P33 { font-size:10pt; font-family:FreeSans; writing-mode:page; font-weight:bold; }
	.P34 { font-size:10pt; font-family:FreeSans; writing-mode:page; font-weight:bold; }
	.P35 { font-size:10pt; font-family:FreeSans; writing-mode:page; font-weight:bold; }
	.P36 { font-size:10pt; font-family:FreeSans; writing-mode:page; font-weight:bold; }
	.P37 { font-size:10pt; font-family:FreeSans; writing-mode:page; font-weight:bold; }
	.P38 { font-size:10pt; font-family:FreeSans; writing-mode:page; font-weight:bold; }
	.P39 { font-size:10pt; font-family:FreeSans; writing-mode:page; }
	.P4 { font-size:10pt; font-weight:bold; text-align:left ! important; font-family:FreeSans; writing-mode:page; font-style:normal; }
	.P40 { font-size:10pt; font-family:FreeSans; writing-mode:page; }
	.P41 { font-size:10pt; font-family:FreeSans; writing-mode:page; }
	.P42 { font-size:10pt; font-family:FreeSans; writing-mode:page; }
	.P43 { font-size:10pt; font-family:FreeSans; writing-mode:page; }
	.P44 { font-size:10pt; font-family:FreeSans; writing-mode:page; }
	.P45 { font-size:10pt; font-family:FreeSans; writing-mode:page; }
	.P46 { font-size:10pt; font-family:FreeSans; writing-mode:page; }
	.P47 { font-size:10pt; font-family:FreeSans; writing-mode:page; }
	.P48 { font-size:10pt; font-family:FreeSans; writing-mode:page; }
	.P49 { font-size:10pt; font-family:FreeSans; writing-mode:page; }
	.P5 { font-size:20pt; font-weight:bold; margin-bottom:0.212cm; margin-top:0.423cm; font-family:FreeSans; writing-mode:page; }
	.P50 { font-size:10pt; font-family:FreeSans; writing-mode:page; }
	.P51 { font-size:10pt; font-family:FreeSans; writing-mode:page; }
	.P52 { font-size:10pt; font-family:FreeSans; writing-mode:page; }
	.P53 { font-size:10pt; font-family:FreeSans; writing-mode:page; }
	.P54 { font-size:10pt; font-family:FreeSans; writing-mode:page; }
	.P55 { font-size:10pt; font-family:FreeSans; writing-mode:page; }
	.P56 { font-size:10pt; font-family:FreeSans; writing-mode:page; font-style:normal; font-weight:bold; }
	.P57 { font-size:10pt; font-family:FreeSans; writing-mode:page; font-style:normal; font-weight:bold; }
	.P58 { font-size:10pt; font-family:FreeSans; writing-mode:page; font-style:normal; font-weight:bold; }
	.P59 { font-size:10pt; font-family:FreeSans; writing-mode:page; }
	.P6 { font-size:12pt; font-weight:bold; margin-bottom:0.3cm; margin-top:0.499cm; font-family:FreeSans; writing-mode:page; }
	.P60 { font-size:10pt; font-family:FreeSans; writing-mode:page; }
	.P61 { font-size:10pt; font-family:FreeSans; writing-mode:page; font-weight:bold; }
	.P62 { font-size:10pt; font-family:FreeSans; writing-mode:page; font-weight:bold; }
	.P63 { font-size:10pt; font-family:Nimbus Mono L; writing-mode:page; font-weight:bold; }
	.P64 { font-size:10pt; font-family:Nimbus Mono L; writing-mode:page; font-weight:bold; }
	.P65 { font-size:10pt; font-family:Nimbus Mono L; writing-mode:page; font-weight:bold; }
	.P66 { font-size:10pt; font-family:Nimbus Mono L; writing-mode:page; font-style:italic; font-weight:bold; }
	.P67 { font-size:10pt; font-family:Nimbus Mono L; writing-mode:page; font-style:italic; font-weight:bold; }
	.P68_borderStart { background-color:transparent; font-size:16pt; font-style:normal; font-weight:bold; margin-top:0.353cm; font-family:FreeSans; writing-mode:page; padding-bottom:0.212cm;  border-bottom-style:none; }
	.P68 { background-color:transparent; font-size:16pt; font-style:normal; font-weight:bold; font-family:FreeSans; writing-mode:page; padding-bottom:0.212cm; padding-top:0.353cm;  border-top-style:none; border-bottom-style:none; }
	.P68_borderEnd { background-color:transparent; font-size:16pt; font-style:normal; font-weight:bold; margin-bottom:0.212cm; font-family:FreeSans; writing-mode:page; padding-top:0.353cm;  border-top-style:none;}
	.P69 { font-size:10pt; font-weight:bold; margin-bottom:0.199cm; margin-top:0.199cm; font-family:Liberation Sans; writing-mode:page; }
	.P7 { font-size:12pt; font-weight:bold; margin-bottom:0.3cm; margin-top:0.499cm; font-family:FreeSans; writing-mode:page; }
	.P70 { font-size:10pt; font-weight:bold; margin-bottom:0.3cm; margin-top:0.3cm; font-family:Liberation Sans; writing-mode:page; }
	.P72_borderStart { background-color:transparent; font-size:10pt; line-height:120%; margin-top:0cm; font-family:FreeSans; writing-mode:page; text-decoration:none ! important; font-weight:normal; padding-bottom:0cm;  border-bottom-style:none; }
	.P72 { background-color:transparent; font-size:10pt; line-height:120%; font-family:FreeSans; writing-mode:page; text-decoration:none ! important; font-weight:normal; padding-bottom:0cm; padding-top:0cm;  border-top-style:none; border-bottom-style:none; }
	.P72_borderEnd { background-color:transparent; font-size:10pt; line-height:120%; margin-bottom:0cm; font-family:FreeSans; writing-mode:page; text-decoration:none ! important; font-weight:normal; padding-top:0cm;  border-top-style:none;}
	.P73_borderStart { background-color:transparent; font-size:10pt; line-height:120%; margin-top:0cm; font-family:FreeSans; writing-mode:page; padding-bottom:0cm;  border-bottom-style:none; }
	.P73 { background-color:transparent; font-size:10pt; line-height:120%; font-family:FreeSans; writing-mode:page; padding-bottom:0cm; padding-top:0cm;  border-top-style:none; border-bottom-style:none; }
	.P73_borderEnd { background-color:transparent; font-size:10pt; line-height:120%; margin-bottom:0cm; font-family:FreeSans; writing-mode:page; padding-top:0cm;  border-top-style:none;}
	.P74_borderStart { background-color:transparent; font-size:10pt; line-height:120%; margin-top:0cm; font-family:FreeSans; writing-mode:page; font-weight:normal; padding-bottom:0cm;  border-bottom-style:none; }
	.P74 { background-color:transparent; font-size:10pt; line-height:120%; font-family:FreeSans; writing-mode:page; font-weight:normal; padding-bottom:0cm; padding-top:0cm;  border-top-style:none; border-bottom-style:none; }
	.P74_borderEnd { background-color:transparent; font-size:10pt; line-height:120%; margin-bottom:0cm; font-family:FreeSans; writing-mode:page; font-weight:normal; padding-top:0cm;  border-top-style:none;}
	.P75_borderStart { background-color:transparent; font-size:10pt; line-height:120%; margin-top:0cm; font-family:FreeSans; writing-mode:page; font-weight:normal; padding-bottom:0cm;  border-bottom-style:none; }
	.P75 { background-color:transparent; font-size:10pt; line-height:120%; font-family:FreeSans; writing-mode:page; font-weight:normal; padding-bottom:0cm; padding-top:0cm;  border-top-style:none; border-bottom-style:none; }
	.P75_borderEnd { background-color:transparent; font-size:10pt; line-height:120%; margin-bottom:0cm; font-family:FreeSans; writing-mode:page; font-weight:normal; padding-top:0cm;  border-top-style:none;}
	.P76_borderStart { background-color:transparent; font-size:10pt; line-height:120%; margin-top:0cm; font-family:FreeSans; writing-mode:page; padding-bottom:0cm;  border-bottom-style:none; }
	.P76 { background-color:transparent; font-size:10pt; line-height:120%; font-family:FreeSans; writing-mode:page; padding-bottom:0cm; padding-top:0cm;  border-top-style:none; border-bottom-style:none; }
	.P76_borderEnd { background-color:transparent; font-size:10pt; line-height:120%; margin-bottom:0cm; font-family:FreeSans; writing-mode:page; padding-top:0cm;  border-top-style:none;}
	.P77_borderStart { background-color:transparent; font-size:10pt; line-height:120%; margin-top:0cm; font-family:FreeSans; writing-mode:page; padding-bottom:0cm;  border-bottom-style:none; }
	.P77 { background-color:transparent; font-size:10pt; line-height:120%; font-family:FreeSans; writing-mode:page; padding-bottom:0cm; padding-top:0cm;  border-top-style:none; border-bottom-style:none; }
	.P77_borderEnd { background-color:transparent; font-size:10pt; line-height:120%; margin-bottom:0cm; font-family:FreeSans; writing-mode:page; padding-top:0cm;  border-top-style:none;}
	.P78_borderStart { background-color:transparent; font-size:10pt; line-height:120%; margin-top:0cm; font-family:FreeSans; writing-mode:page; padding-bottom:0cm;  border-bottom-style:none; }
	.P78 { background-color:transparent; font-size:10pt; line-height:120%; font-family:FreeSans; writing-mode:page; padding-bottom:0cm; padding-top:0cm;  border-top-style:none; border-bottom-style:none; }
	.P78_borderEnd { background-color:transparent; font-size:10pt; line-height:120%; margin-bottom:0cm; font-family:FreeSans; writing-mode:page; padding-top:0cm;  border-top-style:none;}
	.P79_borderStart { background-color:transparent; font-size:10pt; line-height:120%; margin-top:0cm; font-family:FreeSans; writing-mode:page; padding-bottom:0cm;  border-bottom-style:none; }
	.P79 { background-color:transparent; font-size:10pt; line-height:120%; font-family:FreeSans; writing-mode:page; padding-bottom:0cm; padding-top:0cm;  border-top-style:none; border-bottom-style:none; }
	.P79_borderEnd { background-color:transparent; font-size:10pt; line-height:120%; margin-bottom:0cm; font-family:FreeSans; writing-mode:page; padding-top:0cm;  border-top-style:none;}
	.P8 { font-size:12pt; font-weight:bold; margin-bottom:0.3cm; margin-top:0.499cm; font-family:FreeSans; writing-mode:page; }
	.P80_borderStart { background-color:transparent; font-size:10pt; line-height:120%; margin-top:0cm; font-family:FreeSans; writing-mode:page; padding-bottom:0cm;  border-bottom-style:none; }
	.P80 { background-color:transparent; font-size:10pt; line-height:120%; font-family:FreeSans; writing-mode:page; padding-bottom:0cm; padding-top:0cm;  border-top-style:none; border-bottom-style:none; }
	.P80_borderEnd { background-color:transparent; font-size:10pt; line-height:120%; margin-bottom:0cm; font-family:FreeSans; writing-mode:page; padding-top:0cm;  border-top-style:none;}
	.P81_borderStart { background-color:transparent; font-size:10pt; line-height:120%; margin-top:0cm; font-family:FreeSans; writing-mode:page; padding-bottom:0cm;  border-bottom-style:none; }
	.P81 { background-color:transparent; font-size:10pt; line-height:120%; font-family:FreeSans; writing-mode:page; padding-bottom:0cm; padding-top:0cm;  border-top-style:none; border-bottom-style:none; }
	.P81_borderEnd { background-color:transparent; font-size:10pt; line-height:120%; margin-bottom:0cm; font-family:FreeSans; writing-mode:page; padding-top:0cm;  border-top-style:none;}
	.P82_borderStart { background-color:transparent; font-size:10pt; line-height:120%; margin-top:0cm; font-family:FreeSans; writing-mode:page; padding-bottom:0cm;  border-bottom-style:none; }
	.P82 { background-color:transparent; font-size:10pt; line-height:120%; font-family:FreeSans; writing-mode:page; padding-bottom:0cm; padding-top:0cm;  border-top-style:none; border-bottom-style:none; }
	.P82_borderEnd { background-color:transparent; font-size:10pt; line-height:120%; margin-bottom:0cm; font-family:FreeSans; writing-mode:page; padding-top:0cm;  border-top-style:none;}
	.P83_borderStart { background-color:transparent; font-size:10pt; line-height:120%; margin-top:0cm; font-family:FreeSans; writing-mode:page; padding-bottom:0cm;  border-bottom-style:none; }
	.P83 { background-color:transparent; font-size:10pt; line-height:120%; font-family:FreeSans; writing-mode:page; padding-bottom:0cm; padding-top:0cm;  border-top-style:none; border-bottom-style:none; }
	.P83_borderEnd { background-color:transparent; font-size:10pt; line-height:120%; margin-bottom:0cm; font-family:FreeSans; writing-mode:page; padding-top:0cm;  border-top-style:none;}
	.P84_borderStart { background-color:transparent; font-size:10pt; line-height:120%; margin-top:0cm; font-family:FreeSans; writing-mode:page; padding-bottom:0cm;  border-bottom-style:none; }
	.P84 { background-color:transparent; font-size:10pt; line-height:120%; font-family:FreeSans; writing-mode:page; padding-bottom:0cm; padding-top:0cm;  border-top-style:none; border-bottom-style:none; }
	.P84_borderEnd { background-color:transparent; font-size:10pt; line-height:120%; margin-bottom:0cm; font-family:FreeSans; writing-mode:page; padding-top:0cm;  border-top-style:none;}
	.P85_borderStart { background-color:transparent; font-size:10pt; line-height:120%; margin-top:0cm; font-family:FreeSans; writing-mode:page; padding-bottom:0cm;  border-bottom-style:none; }
	.P85 { background-color:transparent; font-size:10pt; line-height:120%; font-family:FreeSans; writing-mode:page; padding-bottom:0cm; padding-top:0cm;  border-top-style:none; border-bottom-style:none; }
	.P85_borderEnd { background-color:transparent; font-size:10pt; line-height:120%; margin-bottom:0cm; font-family:FreeSans; writing-mode:page; padding-top:0cm;  border-top-style:none;}
	.P86_borderStart { background-color:transparent; font-size:10pt; line-height:120%; margin-top:0cm; font-family:FreeSans; writing-mode:page; padding-bottom:0cm;  border-bottom-style:none; }
	.P86 { background-color:transparent; font-size:10pt; line-height:120%; font-family:FreeSans; writing-mode:page; padding-bottom:0cm; padding-top:0cm;  border-top-style:none; border-bottom-style:none; }
	.P86_borderEnd { background-color:transparent; font-size:10pt; line-height:120%; margin-bottom:0cm; font-family:FreeSans; writing-mode:page; padding-top:0cm;  border-top-style:none;}
	.P87_borderStart { background-color:transparent; font-size:10pt; line-height:120%; margin-top:0cm; font-family:FreeSans; writing-mode:page; padding-bottom:0cm;  border-bottom-style:none; }
	.P87 { background-color:transparent; font-size:10pt; line-height:120%; font-family:FreeSans; writing-mode:page; padding-bottom:0cm; padding-top:0cm;  border-top-style:none; border-bottom-style:none; }
	.P87_borderEnd { background-color:transparent; font-size:10pt; line-height:120%; margin-bottom:0cm; font-family:FreeSans; writing-mode:page; padding-top:0cm;  border-top-style:none;}
	.P88_borderStart { background-color:transparent; font-size:10pt; line-height:120%; margin-top:0cm; font-family:FreeSans; writing-mode:page; padding-bottom:0cm;  border-bottom-style:none; }
	.P88 { background-color:transparent; font-size:10pt; line-height:120%; font-family:FreeSans; writing-mode:page; padding-bottom:0cm; padding-top:0cm;  border-top-style:none; border-bottom-style:none; }
	.P88_borderEnd { background-color:transparent; font-size:10pt; line-height:120%; margin-bottom:0cm; font-family:FreeSans; writing-mode:page; padding-top:0cm;  border-top-style:none;}
	.P89_borderStart { background-color:transparent; font-size:10pt; line-height:120%; margin-top:0cm; font-family:FreeSans; writing-mode:page; padding-bottom:0cm;  border-bottom-style:none; }
	.P89 { background-color:transparent; font-size:10pt; line-height:120%; font-family:FreeSans; writing-mode:page; padding-bottom:0cm; padding-top:0cm;  border-top-style:none; border-bottom-style:none; }
	.P89_borderEnd { background-color:transparent; font-size:10pt; line-height:120%; margin-bottom:0cm; font-family:FreeSans; writing-mode:page; padding-top:0cm;  border-top-style:none;}
	.P9 { font-size:12pt; font-weight:bold; margin-bottom:0.3cm; margin-top:0.499cm; font-family:FreeSans; writing-mode:page; }
	.P90_borderStart { background-color:transparent; font-size:10pt; line-height:120%; margin-top:0cm; font-family:FreeSans; writing-mode:page; padding-bottom:0cm;  border-bottom-style:none; }
	.P90 { background-color:transparent; font-size:10pt; line-height:120%; font-family:FreeSans; writing-mode:page; padding-bottom:0cm; padding-top:0cm;  border-top-style:none; border-bottom-style:none; }
	.P90_borderEnd { background-color:transparent; font-size:10pt; line-height:120%; margin-bottom:0cm; font-family:FreeSans; writing-mode:page; padding-top:0cm;  border-top-style:none;}
	.P91_borderStart { background-color:transparent; font-size:10pt; line-height:120%; margin-top:0cm; font-family:FreeSans; writing-mode:page; padding-bottom:0cm;  border-bottom-style:none; }
	.P91 { background-color:transparent; font-size:10pt; line-height:120%; font-family:FreeSans; writing-mode:page; padding-bottom:0cm; padding-top:0cm;  border-top-style:none; border-bottom-style:none; }
	.P91_borderEnd { background-color:transparent; font-size:10pt; line-height:120%; margin-bottom:0cm; font-family:FreeSans; writing-mode:page; padding-top:0cm;  border-top-style:none;}
	.P92_borderStart { background-color:transparent; font-size:10pt; line-height:120%; margin-top:0cm; font-family:FreeSans; writing-mode:page; padding-bottom:0cm;  border-bottom-style:none; }
	.P92 { background-color:transparent; font-size:10pt; line-height:120%; font-family:FreeSans; writing-mode:page; padding-bottom:0cm; padding-top:0cm;  border-top-style:none; border-bottom-style:none; }
	.P92_borderEnd { background-color:transparent; font-size:10pt; line-height:120%; margin-bottom:0cm; font-family:FreeSans; writing-mode:page; padding-top:0cm;  border-top-style:none;}
	.P93_borderStart { background-color:transparent; font-size:10pt; line-height:120%; margin-top:0cm; font-family:FreeSans; writing-mode:page; padding-bottom:0cm;  border-bottom-style:none; }
	.P93 { background-color:transparent; font-size:10pt; line-height:120%; font-family:FreeSans; writing-mode:page; padding-bottom:0cm; padding-top:0cm;  border-top-style:none; border-bottom-style:none; }
	.P93_borderEnd { background-color:transparent; font-size:10pt; line-height:120%; margin-bottom:0cm; font-family:FreeSans; writing-mode:page; padding-top:0cm;  border-top-style:none;}
	.P94_borderStart { background-color:transparent; font-size:10pt; line-height:120%; margin-top:0cm; font-family:FreeSans; writing-mode:page; padding-bottom:0cm;  border-bottom-style:none; }
	.P94 { background-color:transparent; font-size:10pt; line-height:120%; font-family:FreeSans; writing-mode:page; padding-bottom:0cm; padding-top:0cm;  border-top-style:none; border-bottom-style:none; }
	.P94_borderEnd { background-color:transparent; font-size:10pt; line-height:120%; margin-bottom:0cm; font-family:FreeSans; writing-mode:page; padding-top:0cm;  border-top-style:none;}
	.P95_borderStart { background-color:transparent; font-size:10pt; line-height:120%; margin-top:0cm; font-family:FreeSans; writing-mode:page; padding-bottom:0cm;  border-bottom-style:none; }
	.P95 { background-color:transparent; font-size:10pt; line-height:120%; font-family:FreeSans; writing-mode:page; padding-bottom:0cm; padding-top:0cm;  border-top-style:none; border-bottom-style:none; }
	.P95_borderEnd { background-color:transparent; font-size:10pt; line-height:120%; margin-bottom:0cm; font-family:FreeSans; writing-mode:page; padding-top:0cm;  border-top-style:none;}
	.P96_borderStart { background-color:transparent; font-size:10pt; line-height:120%; margin-top:0cm; font-family:FreeSans; writing-mode:page; padding-bottom:0cm;  border-bottom-style:none; }
	.P96 { background-color:transparent; font-size:10pt; line-height:120%; font-family:FreeSans; writing-mode:page; padding-bottom:0cm; padding-top:0cm;  border-top-style:none; border-bottom-style:none; }
	.P96_borderEnd { background-color:transparent; font-size:10pt; line-height:120%; margin-bottom:0cm; font-family:FreeSans; writing-mode:page; padding-top:0cm;  border-top-style:none;}
	.P97_borderStart { background-color:transparent; font-size:10pt; line-height:120%; margin-top:0cm; font-family:FreeSans; writing-mode:page; padding-bottom:0cm;  border-bottom-style:none; }
	.P97 { background-color:transparent; font-size:10pt; line-height:120%; font-family:FreeSans; writing-mode:page; padding-bottom:0cm; padding-top:0cm;  border-top-style:none; border-bottom-style:none; }
	.P97_borderEnd { background-color:transparent; font-size:10pt; line-height:120%; margin-bottom:0cm; font-family:FreeSans; writing-mode:page; padding-top:0cm;  border-top-style:none;}
	.P98_borderStart { background-color:transparent; font-size:10pt; line-height:120%; margin-top:0cm; font-family:FreeSans; writing-mode:page; padding-bottom:0cm;  border-bottom-style:none; }
	.P98 { background-color:transparent; font-size:10pt; line-height:120%; font-family:FreeSans; writing-mode:page; padding-bottom:0cm; padding-top:0cm;  border-top-style:none; border-bottom-style:none; }
	.P98_borderEnd { background-color:transparent; font-size:10pt; line-height:120%; margin-bottom:0cm; font-family:FreeSans; writing-mode:page; padding-top:0cm;  border-top-style:none;}
	.P99_borderStart { background-color:transparent; font-size:10pt; line-height:120%; margin-top:0cm; font-family:FreeSans; writing-mode:page; padding-bottom:0cm;  border-bottom-style:none; }
	.P99 { background-color:transparent; font-size:10pt; line-height:120%; font-family:FreeSans; writing-mode:page; padding-bottom:0cm; padding-top:0cm;  border-top-style:none; border-bottom-style:none; }
	.P99_borderEnd { background-color:transparent; font-size:10pt; line-height:120%; margin-bottom:0cm; font-family:FreeSans; writing-mode:page; padding-top:0cm;  border-top-style:none;}
	.Text_20_body_borderStart { font-size:10pt; font-family:FreeSans; writing-mode:page; margin-top:0cm; line-height:120%; background-color:transparent; padding-bottom:0cm;  border-bottom-style:none; }
	.Text_20_body { font-size:10pt; font-family:FreeSans; writing-mode:page; line-height:120%; background-color:transparent; padding-top:0cm; padding-bottom:0cm;  border-top-style:none; border-bottom-style:none; }
	.Text_20_body_borderEnd { font-size:10pt; font-family:FreeSans; writing-mode:page; margin-bottom:0cm; line-height:120%; background-color:transparent; padding-top:0cm;  border-top-style:none;}
	.Sect1 { margin-left:0cm; margin-right:0cm; }
	.Table1 { width:19.001cm; float:none; }
	.Table10 { width:19.001cm; float:none; }
	.Table11 { width:19.001cm; float:none; }
	.Table12 { width:19.001cm; float:none; }
	.Table2 { width:19.001cm; float:none; }
	.Table3 { width:19.001cm; float:none; }
	.Table4 { width:19.001cm; float:none; }
	.Table5 { width:19.001cm; float:none; }
	.Table6 { width:19.001cm; float:none; }
	.Table9 { width:19.001cm; float:none; }
	.Table1_A1 { padding:0.097cm; border-left-width:thin; border-left-style:solid; border-left-color:#000000; border-right-style:none; border-top-width:thin; border-top-style:solid; border-top-color:#000000; border-bottom-width:thin; border-bottom-style:solid; border-bottom-color:#000000; }
	.Table1_A2 { padding:0.097cm; border-left-width:thin; border-left-style:solid; border-left-color:#000000; border-right-style:none; border-top-style:none; border-bottom-width:thin; border-bottom-style:solid; border-bottom-color:#000000; }
	.Table1_D1 { padding:0.097cm; border-width:thin; border-style:solid; border-color:#000000; }
	.Table1_D2 { padding:0.097cm; border-left-width:thin; border-left-style:solid; border-left-color:#000000; border-right-width:thin; border-right-style:solid; border-right-color:#000000; border-top-style:none; border-bottom-width:thin; border-bottom-style:solid; border-bottom-color:#000000; }
	.Table10_A1 { padding:0.097cm; border-left-width:thin; border-left-style:solid; border-left-color:#000000; border-right-style:none; border-top-width:thin; border-top-style:solid; border-top-color:#000000; border-bottom-width:thin; border-bottom-style:solid; border-bottom-color:#000000; }
	.Table10_A2 { padding:0.097cm; border-left-width:thin; border-left-style:solid; border-left-color:#000000; border-right-style:none; border-top-style:none; border-bottom-width:thin; border-bottom-style:solid; border-bottom-color:#000000; }
	.Table10_C1 { padding:0.097cm; border-width:thin; border-style:solid; border-color:#000000; }
	.Table10_C2 { padding:0.097cm; border-left-width:thin; border-left-style:solid; border-left-color:#000000; border-right-width:thin; border-right-style:solid; border-right-color:#000000; border-top-style:none; border-bottom-width:thin; border-bottom-style:solid; border-bottom-color:#000000; }
	.Table11_A1 { padding:0.097cm; border-left-width:thin; border-left-style:solid; border-left-color:#000000; border-right-style:none; border-top-width:thin; border-top-style:solid; border-top-color:#000000; border-bottom-width:thin; border-bottom-style:solid; border-bottom-color:#000000; }
	.Table11_A2 { padding:0.097cm; border-left-width:thin; border-left-style:solid; border-left-color:#000000; border-right-style:none; border-top-style:none; border-bottom-width:thin; border-bottom-style:solid; border-bottom-color:#000000; }
	.Table11_D1 { padding:0.097cm; border-width:thin; border-style:solid; border-color:#000000; }
	.Table11_D2 { padding:0.097cm; border-left-width:thin; border-left-style:solid; border-left-color:#000000; border-right-width:thin; border-right-style:solid; border-right-color:#000000; border-top-style:none; border-bottom-width:thin; border-bottom-style:solid; border-bottom-color:#000000; }
	.Table12_A1 { padding:0.097cm; border-left-width:thin; border-left-style:solid; border-left-color:#000000; border-right-style:none; border-top-width:thin; border-top-style:solid; border-top-color:#000000; border-bottom-width:thin; border-bottom-style:solid; border-bottom-color:#000000; }
	.Table12_A2 { padding:0.097cm; border-left-width:thin; border-left-style:solid; border-left-color:#000000; border-right-style:none; border-top-style:none; border-bottom-width:thin; border-bottom-style:solid; border-bottom-color:#000000; }
	.Table12_C2 { background-color:#eeeeee; padding:0.097cm; border-left-width:thin; border-left-style:solid; border-left-color:#000000; border-right-style:none; border-top-style:none; border-bottom-width:thin; border-bottom-style:solid; border-bottom-color:#000000; }
	.Table12_C3 { background-color:#dddddd; padding:0.097cm; border-left-width:thin; border-left-style:solid; border-left-color:#000000; border-right-style:none; border-top-style:none; border-bottom-width:thin; border-bottom-style:solid; border-bottom-color:#000000; }
	.Table12_C4 { background-color:#cccccc; padding:0.097cm; border-left-width:thin; border-left-style:solid; border-left-color:#000000; border-right-style:none; border-top-style:none; border-bottom-width:thin; border-bottom-style:solid; border-bottom-color:#000000; }
	.Table12_D1 { padding:0.097cm; border-width:thin; border-style:solid; border-color:#000000; }
	.Table12_D7 { padding:0.097cm; border-left-width:thin; border-left-style:solid; border-left-color:#000000; border-right-width:thin; border-right-style:solid; border-right-color:#000000; border-top-style:none; border-bottom-width:thin; border-bottom-style:solid; border-bottom-color:#000000; }
	.Table2_A1 { padding:0.097cm; border-left-width:thin; border-left-style:solid; border-left-color:#000000; border-right-style:none; border-top-width:thin; border-top-style:solid; border-top-color:#000000; border-bottom-width:thin; border-bottom-style:solid; border-bottom-color:#000000; }
	.Table2_A13 { padding:0.097cm; border-left-width:thin; border-left-style:solid; border-left-color:#000000; border-right-style:none; border-top-style:none; border-bottom-width:thin; border-bottom-style:solid; border-bottom-color:#000000; }
	.Table2_A2 { background-color:#eeeeee; padding:0.097cm; border-left-width:thin; border-left-style:solid; border-left-color:#000000; border-right-style:none; border-top-style:none; border-bottom-width:thin; border-bottom-style:solid; border-bottom-color:#000000; }
	.Table2_A22 { background-color:#dddddd; padding:0.097cm; border-left-width:thin; border-left-style:solid; border-left-color:#000000; border-right-style:none; border-top-style:none; border-bottom-width:thin; border-bottom-style:solid; border-bottom-color:#000000; }
	.Table2_B13 { padding:0.097cm; border-left-width:thin; border-left-style:solid; border-left-color:#000000; border-right-style:none; border-top-style:none; border-bottom-width:thin; border-bottom-style:solid; border-bottom-color:#000000; }
	.Table2_C13 { padding:0.097cm; border-left-width:thin; border-left-style:solid; border-left-color:#000000; border-right-style:none; border-top-style:none; border-bottom-width:thin; border-bottom-style:solid; border-bottom-color:#000000; }
	.Table2_D1 { padding:0.097cm; border-width:thin; border-style:solid; border-color:#000000; }
	.Table2_D13 { padding:0.097cm; border-left-width:thin; border-left-style:solid; border-left-color:#000000; border-right-width:thin; border-right-style:solid; border-right-color:#000000; border-top-style:none; border-bottom-width:thin; border-bottom-style:solid; border-bottom-color:#000000; }
	.Table2_D2 { background-color:#eeeeee; padding:0.097cm; border-left-width:thin; border-left-style:solid; border-left-color:#000000; border-right-width:thin; border-right-style:solid; border-right-color:#000000; border-top-style:none; border-bottom-width:thin; border-bottom-style:solid; border-bottom-color:#000000; }
	.Table2_D22 { background-color:#dddddd; padding:0.097cm; border-left-width:thin; border-left-style:solid; border-left-color:#000000; border-right-width:thin; border-right-style:solid; border-right-color:#000000; border-top-style:none; border-bottom-width:thin; border-bottom-style:solid; border-bottom-color:#000000; }
	.Table3_A1 { padding:0.097cm; border-left-width:thin; border-left-style:solid; border-left-color:#000000; border-right-style:none; border-top-width:thin; border-top-style:solid; border-top-color:#000000; border-bottom-width:thin; border-bottom-style:solid; border-bottom-color:#000000; }
	.Table3_A2 { padding:0.097cm; border-left-width:thin; border-left-style:solid; border-left-color:#000000; border-right-style:none; border-top-style:none; border-bottom-width:thin; border-bottom-style:solid; border-bottom-color:#000000; }
	.Table3_D1 { padding:0.097cm; border-width:thin; border-style:solid; border-color:#000000; }
	.Table3_D2 { padding:0.097cm; border-left-width:thin; border-left-style:solid; border-left-color:#000000; border-right-width:thin; border-right-style:solid; border-right-color:#000000; border-top-style:none; border-bottom-width:thin; border-bottom-style:solid; border-bottom-color:#000000; }
	.Table4_A1 { padding:0.097cm; border-left-width:thin; border-left-style:solid; border-left-color:#000000; border-right-style:none; border-top-width:thin; border-top-style:solid; border-top-color:#000000; border-bottom-width:thin; border-bottom-style:solid; border-bottom-color:#000000; }
	.Table4_A2 { padding:0.097cm; border-left-width:thin; border-left-style:solid; border-left-color:#000000; border-right-style:none; border-top-style:none; border-bottom-width:thin; border-bottom-style:solid; border-bottom-color:#000000; }
	.Table4_D1 { padding:0.097cm; border-width:thin; border-style:solid; border-color:#000000; }
	.Table4_D2 { padding:0.097cm; border-left-width:thin; border-left-style:solid; border-left-color:#000000; border-right-width:thin; border-right-style:solid; border-right-color:#000000; border-top-style:none; border-bottom-width:thin; border-bottom-style:solid; border-bottom-color:#000000; }
	.Table5_A1 { padding:0.097cm; border-left-width:thin; border-left-style:solid; border-left-color:#000000; border-right-style:none; border-top-width:thin; border-top-style:solid; border-top-color:#000000; border-bottom-width:thin; border-bottom-style:solid; border-bottom-color:#000000; }
	.Table5_A2 { padding:0.097cm; border-left-width:thin; border-left-style:solid; border-left-color:#000000; border-right-style:none; border-top-style:none; border-bottom-width:thin; border-bottom-style:solid; border-bottom-color:#000000; }
	.Table5_D1 { padding:0.097cm; border-width:thin; border-style:solid; border-color:#000000; }
	.Table5_D2 { padding:0.097cm; border-left-width:thin; border-left-style:solid; border-left-color:#000000; border-right-width:thin; border-right-style:solid; border-right-color:#000000; border-top-style:none; border-bottom-width:thin; border-bottom-style:solid; border-bottom-color:#000000; }
	.Table6_A1 { padding:0.097cm; border-left-width:thin; border-left-style:solid; border-left-color:#000000; border-right-style:none; border-top-width:thin; border-top-style:solid; border-top-color:#000000; border-bottom-width:thin; border-bottom-style:solid; border-bottom-color:#000000; }
	.Table6_A2 { padding:0.097cm; border-left-width:thin; border-left-style:solid; border-left-color:#000000; border-right-style:none; border-top-style:none; border-bottom-width:thin; border-bottom-style:solid; border-bottom-color:#000000; }
	.Table6_D1 { padding:0.097cm; border-width:thin; border-style:solid; border-color:#000000; }
	.Table6_D2 { padding:0.097cm; border-left-width:thin; border-left-style:solid; border-left-color:#000000; border-right-width:thin; border-right-style:solid; border-right-color:#000000; border-top-style:none; border-bottom-width:thin; border-bottom-style:solid; border-bottom-color:#000000; }
	.Table9_A1 { padding:0.097cm; border-left-width:thin; border-left-style:solid; border-left-color:#000000; border-right-style:none; border-top-width:thin; border-top-style:solid; border-top-color:#000000; border-bottom-width:thin; border-bottom-style:solid; border-bottom-color:#000000; }
	.Table9_A2 { padding:0.097cm; border-left-width:thin; border-left-style:solid; border-left-color:#000000; border-right-style:none; border-top-style:none; border-bottom-width:thin; border-bottom-style:solid; border-bottom-color:#000000; }
	.Table9_E1 { padding:0.097cm; border-width:thin; border-style:solid; border-color:#000000; }
	.Table9_E2 { padding:0.097cm; border-left-width:thin; border-left-style:solid; border-left-color:#000000; border-right-width:thin; border-right-style:solid; border-right-color:#000000; border-top-style:none; border-bottom-width:thin; border-bottom-style:solid; border-bottom-color:#000000; }
	.Table1_A { width:1.896cm; }
	.Table1_B { width:4.609cm; }
	.Table1_C { width:4.695cm; }
	.Table1_D { width:7.8cm; }
	.Table10_A { width:4.498cm; }
	.Table10_B { width:9.592cm; }
	.Table10_C { width:4.911cm; }
	.Table11_A { width:2.404cm; }
	.Table11_B { width:5.798cm; }
	.Table11_C { width:6.505cm; }
	.Table11_D { width:4.293cm; }
	.Table12_A { width:3.992cm; }
	.Table12_B { width:5.115cm; }
	.Table12_C { width:6.283cm; }
	.Table12_D { width:3.611cm; }
	.Table2_A { width:1.896cm; }
	.Table2_B { width:4.697cm; }
	.Table2_C { width:6.703cm; }
	.Table2_D { width:5.704cm; }
	.Table3_A { width:1.896cm; }
	.Table3_B { width:4.697cm; }
	.Table3_C { width:7.657cm; }
	.Table3_D { width:4.75cm; }
	.Table4_A { width:2.096cm; }
	.Table4_B { width:2.999cm; }
	.Table4_C { width:5.401cm; }
	.Table4_D { width:8.505cm; }
	.Table5_A { width:1.896cm; }
	.Table5_B { width:4.807cm; }
	.Table5_C { width:5.292cm; }
	.Table5_D { width:7.006cm; }
	.Table6_A { width:1.896cm; }
	.Table6_B { width:2.801cm; }
	.Table6_C { width:4.101cm; }
	.Table6_D { width:10.202cm; }
	.Table9_A { width:1.39cm; }
	.Table9_B { width:3.417cm; }
	.Table9_C { width:5.203cm; }
	.Table9_D { width:4.586cm; }
	.Table9_E { width:4.404cm; }
	.Table1_1 { background-color:#ffffcc; }
	.Table10_1 { background-color:#ffffcc; }
	.Table11_1 { background-color:#ffffcc; }
	.Table12_1 { background-color:#ffffcc; }
	.Table2_1 { background-color:#ffffcc; }
	.Table3_1 { background-color:#ffffcc; }
	.Table4_1 { background-color:#ffffcc; }
	.Table5_1 { background-color:#ffffcc; }
	.Table6_1 { background-color:#ffffcc; }
	.Table9_1 { background-color:#ffffcc; }
	.Bullet_20_Symbols { font-family:OpenSymbol; }
	.Emphasis { font-style:italic; }
	.Internet_20_link { color:#000080; text-decoration:underline; }
	.Source_20_Text { font-family:Liberation Mono; }
	.T1 { font-family:FreeSans; }
	.T10 { font-family:FreeSans; }
	.T11 { font-family:FreeSans; }
	.T12 { font-family:FreeSans; font-weight:bold; }
	.T13 { font-family:FreeSans; font-weight:normal; }
	.T14 { font-family:FreeSans; font-weight:normal; }
	.T15 { font-family:FreeSans; font-style:normal; font-weight:normal; }
	.T16 { font-family:FreeSans; }
	.T17 { font-family:FreeSans; }
	.T18 { font-family:FreeSans; }
	.T19 { font-family:FreeSans; }
	.T2 { font-family:FreeSans; font-size:10pt; background-color:transparent; }
	.T20 { font-family:FreeSans; }
	.T21 { font-family:FreeSans; font-style:normal; }
	.T22 { font-family:FreeSans; }
	.T23 { font-family:FreeSans; font-weight:bold; }
	.T24 { font-family:FreeSans; }
	.T25 { font-family:FreeSans; font-style:italic; }
	.T3 { font-family:FreeSans; font-size:10pt; background-color:transparent; }
	.T31 { font-style:italic; }
	.T33 { font-weight:bold; }
	.T38 { font-family:Nimbus Mono L; }
	.T39 { font-family:Nimbus Mono L; font-weight:bold; }
	.T4 { font-family:FreeSans; font-size:10pt; background-color:transparent; }
	.T40 { font-family:Nimbus Mono L; font-weight:bold; }
	.T41 { font-family:Nimbus Mono L; font-weight:bold; }
	.T42 { font-family:Nimbus Mono L; font-style:italic; font-weight:bold; }
	.T43 { font-family:Nimbus Mono L; font-style:normal; font-weight:bold; }
	.T44 { font-family:Nimbus Mono L; }
	.T45 { font-family:Nimbus Mono L; font-weight:bold; }
	.T46 { font-family:Nimbus Mono L; font-weight:bold; }
	.T47 { font-family:Nimbus Mono L; font-weight:bold; }
	.T48 { font-family:Nimbus Mono L; font-weight:bold; }
	.T5 { font-family:FreeSans; font-size:10pt; }
	.T6 { font-family:FreeSans; font-size:10pt; }
	.T65 { font-weight:normal; }
	.T7 { font-family:FreeSans; font-size:10pt; font-style:normal; }
	.T70 { font-style:normal; }
	.T8 { font-family:FreeSans; text-decoration:none ! important; }
	.T9 { font-family:FreeSans; text-decoration:none ! important; }
	<!-- ODF styles with no properties representable as CSS -->
	.T26 .T27 .T28 .T29 .T30 .T32 .T34 .T35 .T36 .T37 .T49 .T50 .T51 .T52 .T53 .T54 .T55 .T56 .T57 .T58 .T59 .T60 .T61 .T62 .T63 .T64 .T66 .T67 .T68 .T69 .T71 .T72 .T73 .T74 .T75 .T77  { }
	</style></head><body dir="ltr" style="max-width:21.001cm;margin-top:1cm; margin-bottom:1cm; margin-left:1cm; margin-right:1cm; "><h1 class="P5"><a id="a__ESP8266_universal_I_O_bridge"><span/></a><a id="user-content-esp8266-universal-io-bridge"/>ESP8266 universal I/O bridge</h1><h2 class="P68"><a id="a__Preface"><span/></a>Preface</h2><h3 class="P6"><a id="a__General"><span/></a>General</h3><p class="P78_borderStart"><span class="T26">The ESP8266 universal I/O bridge is a project that </span>attempts to make all of the I/O on the ESP8266 available over the <span class="T26">(wlan) </span>network.<span class="T62"> This more or less assumes the use of an (possibly always-on) server that frequently contacts the ESP8266 to fetch the current data or to send control commands. It is not intended to program automated actions or to automatically upload results "to the cloud".</span></p><p class="P78"/><p class="P79">Currently <span class="T63">the available I/O's are: all of the built-in </span>GPIO's (<span class="T28">such </span>as <span class="T27">digital input, digital output </span>or PWM), I2C <span class="T35">(emulated by software bit-banging), the ADC (analog input) and </span>the UART. <span class="T35">E</span>xternal <span class="T27">GPIO's (well-known I2C I/O expanders) are currently being implemented. It also features external </span>display<span class="T27">s (currently only using SAA1064, others, LCD, are planned).</span></p><p class="P100"/><p class="P111"><span class="T2">The </span><span class="T3">software </span><span class="T2">listens at tcp port 24, and that is where the configuration and commands </span><span class="T4">should be entered</span><span class="T2">. Type </span><span class="Source_20_Text"><span class="T2">telnet &lt;ip_address&gt; 24</span></span><span class="T2"> and type </span><span class="Source_20_Text"><span class="T2">?</span></span><span class="T2"> for help.</span><span class="T4"> No need for flashing when the configuration changes, </span><span class="T3">just change the config and write it.</span></p><p class="P111"><span class="T3"/></p><p class="P112"><span class="T3">T</span><span class="T2">here is also an very bare bones http server on board, which currently only shows the I/O status, but may be extended quite easily in the future. Use the http interface simply by pointing your browser to your ESP's IP address and add the port number 24 to it.</span></p><p class="P101"/><p class="P102_borderEnd">If the requirements are met, the OTA-version can be used, which means that updates can be programmed over the network instead of using the UART.</p><h3 class="P7"><a id="a__IO"><span/></a>IO</h3><p class="P80_borderStart"><span class="T59">All I/O pins can be configured to work as plain digital </span>input, <span class="T27">plain digital</span> output, "timer" mode (this means trigger once, either manually or at startup, or <span class="T28">toggle</span> continuously) or "pwm" mode (16 bits PWM mode, running at 330 Hz, suitable for driving lighting, <span class="T27">maybe servo motors as well, not tested). The ADC input and the RTC GPIO are also supported.</span></p><p class="P103"/><p class="P81"><span class="T59">Pins </span>are organised in <span class="T54">devices</span> of at most 16 pins. Each pin must be configured <span class="T57">to a mode it will be used in</span>. That goes even for pins that can only have one function (e.g. the adc input). If a pin is not configured (i.e. set to mode disabled), it won't be used and not even initialised, <span class="T57">thereby keeping it's original function (e.g. UART) or remaining floating (HiZ).</span></p><p class="P81"/><p class="P83_borderEnd">Two devices are always present, device 0 = the internal GPIO's 0-15 and device 1 = the other I/O pins: <span class="T58">the </span>RTC GPIO and the ADC input. Other devices can be added using I2C I/O expanders. Currently supported are MCP23017 and PCF8574.</p><h3 class="P6"><a id="a__UART_bridge"><span/></a>UART bridge</h3><p class="P80_borderStart">The UART <span class="T35">pins </span>(TXD/RXD) are available and are bridged to the ESP8266's ip address at port 2<span class="T27">3, </span>unless <span class="T35">they </span>are re-assigned as GPIO <span class="T59">pins.</span></p><p class="P105"/><p class="Text_20_body"><span class="T5">The UART bridge accepts connections on tcp port 23, gets all data from it, sends it to the UART (serial port) and the other way around. This is the way to go to make your non-networking microcontroller </span><span class="Emphasis"><span class="T7">WiFi</span></span><span class="T7">-ready</span><span class="T5">. If you add an RS-232C buffer (something like a </span><span class="Emphasis"><span class="T7">MAX232</span></span><span class="T5"> or similar), you can even make your non-networking peripherals like printers etc. available over the wireless lan.</span></p><p class="P104"/><p class="P77_borderEnd">The UART driver is heavily optimised and is completely interrupt driven, which makes it very efficient.<a id="user-content-about-i2c"/></p><h3 class="P6"><a id="a__I2C"><span/></a><span class="T30">I</span>2<span class="T30">C</span></h3><p class="P84_borderStart"><span class="T16">The ESP8266 does not have a hardware I2C </span><span class="T17">module</span><span class="T16"> (</span><span class="T11">as opposed to most</span><span class="T16"> microcontrollers), so the protocol needs to be </span><span class="T16">implemented using a bit-banging software emulation. Espressif supplies code that does exactly that, but it's rubbish. So I wrote my own protocol handler from scratch and it already proved to be quite robust.</span></p><p class="P80"/><p class="P80_borderEnd"><span class="T59">All off the internal </span>GPIO <span class="T59">pins</span> can be selected to work as <span class="T27">I2C/SMBus</span> <span class="T35">pins </span>(<span class="T59">SDA+SCL</span>). You can use the "raw" <span class="T59">I2C</span> send and receive commands to send/receive arbitrary commands/data to arbitrary slaves. For a number of <span class="T27">I2C</span> sensors there is built-in support, which allows you to read them out directly, where a temperature etc. is given as result.</p><h3 class="P6"><a id="a__External_displays"><span/></a><span class="T32">E</span>xternal displays</h3><p class="P77_borderStart">Currently the SAA1064 is supported, it's a 4x7 led display multiplexer, controlled over <span class="T32">I2C</span>. <span class="T32">I am working on </span>add<span class="T32">ing "raw"</span> LCD text displays using the well-known Hitachi LCD controller and Orbital Matrix <span class="T32">I2C</span>-controlled VFD/LCD screens.</p><p class="P77"/><p class="P77_borderEnd">The system consists of multiple "slots" of messages that will be shown <span class="T32">in succession</span>. You can set a timeout on a message and it will be deleted automatically after that time. If no slots are left, it <span class="T32">will </span>show the current time (<span class="T32">from RTC</span>). Use 0 as timeout to not auto-expire slots.</p><h2 class="P68"><a id="a__Getting_started"><span/></a>Get<span class="T34">ting</span> started</h2><h3 class="P6"><a id="a__General"><span/></a>General</h3><p class="P85">You can either download the software and flash it (precompiled image) from Git<span class="T37">H</span>ub or compile the software yourself. In both cases you will need <span class="T64">to use </span>a suitable flashing device (CP210x or similar USB to UART <span class="T36">converter</span>) and a tool for flashing. I am using esptool.py for that <span class="T58">and </span>the Makefile also expects it to be present. It's not required though, you can use any flashing tool and do the flashing manually. The flashing process itself has been described at numerous places, I am not going to repeat it here.</p><h3 class="P9"><a id="a__Image_types"><span/></a>Image types</h3><p class="P86_borderStart">There are two types of images:</p><p class="P86_borderEnd"/><table border="0" cellspacing="0" cellpadding="0" class="Table9"><colgroup><col width="61"/><col width="149"/><col width="227"/><col width="200"/><col width="192"/></colgroup><tr class="Table91"><td style="text-align:left;width:1.39cm; " class="Table9_A1"><p class="P33">name</p></td><td style="text-align:left;width:3.417cm; " class="Table9_A1"><p class="P33">type</p></td><td style="text-align:left;width:5.203cm; " class="Table9_A1"><p class="P33">update using</p></td><td style="text-align:left;width:4.586cm; " class="Table9_A1"><p class="P33">files</p></td><td style="text-align:left;width:4.404cm; " class="Table9_E1"><p class="P33">flash size requirements</p></td></tr><tr><td style="text-align:left;width:1.39cm; " class="Table9_A2"><p class="P40">PLAIN</p></td><td style="text-align:left;width:3.417cm; " class="Table9_A2"><p class="P41">plain / normal</p></td><td style="text-align:left;width:5.203cm; " class="Table9_A2"><p class="P41">UART flash mechanism</p></td><td style="text-align:left;width:4.586cm; " class="Table9_A2"><p class="P41">IROM image, IRAM image</p></td><td style="text-align:left;width:4.404cm; " class="Table9_E2"><p class="P41">4 Mbit</p></td></tr><tr><td style="text-align:left;width:1.39cm; " class="Table9_A2"><p class="P40">OTA</p></td><td style="text-align:left;width:3.417cm; " class="Table9_A2"><p class="P41">over the air updating</p></td><td style="text-align:left;width:5.203cm; " class="Table9_A2"><p class="P41">OTA flash mechanism (network)</p></td><td style="text-align:left;width:4.586cm; " class="Table9_A2"><p class="P41">rboot, rboot config, image</p></td><td style="text-align:left;width:4.404cm; " class="Table9_E2"><p class="P41">16 Mbit</p></td></tr></table><p class="P86_borderStart"/><p class="P86">The plain images have very little requirements. They will run in less than <span class="T64">256</span> kbytes, so a 4 Mbit flash chip that's found on most simple ESP8266 break-out-boards will suffice.</p><p class="P86"/><p class="P86">The over-the-air (ota) image need<span class="T37">s</span> 1 Mbyte each because of the <span class="T64">address </span>mapping/<span class="T64">banking </span>mechanism of the ESP8266 used. This means the usual 4 Mbit flash chip won't be sufficient, you will need <span class="T64">a </span>16 Mbit <span class="T64">flash chip</span> at least. Some break-out-boards already have this amount of flash memory, others can be upgraded. I have had success with the Winbond W25Q16DVSSIG and W25Q16DVSNIG. They're almost the same, the first is 208 mil, the second is 150 mil. That is important, because they need to fit on the pads of the PCB. The ESP-201 for instance, require<span class="T64">s</span> a 150 mil flash chip, the ESP-01 as well, but newer issues of the ESP-01, which come with 8 Mbits of flash instead of 4 Mbits, actually require a 208 mil IC.</p><p class="P87"/><p class="P88">The default image for the Makefile is always OTA. So if you're going to flash, config, etc, a plain image, always include <span class="T39">IMAGE=plain</span> on the make command line or add it in the Makefile. Also, always <span class="T39">make clean</span> if you switch from plain to ota image and v.v.</p><p class="P85"/><p class="P85_borderEnd">If you're going to use the pre-compiled images, skip the next section building the software.</p><h3 class="P6"><a id="a__Building_the_software"><span/></a>Building the software</h3><p class="P2_borderStart"><span class="T72">For building the software you'll need to get and install the opensdk building environment. </span><span class="T73">Get </span><span class="T72">it here: </span><a href="http://github.com/pfalcon/esp-open-sdk" class="Internet_20_link">http://github.com/pfalcon/esp-open-sdk</a><span class="T72">. You can use the latest version and you can also make it install the latest sdk from </span><span class="T72">Espressif, there are no known issues </span><span class="T74">there</span><span class="T72">. Change the Makefile to point SDKROOT to the root of the opendsk directory.</span></p><p class="P85"/><p class="P89">The build process also uses the ESPTOOL2 tool from Richard Burton. <span class="T64">The Makefile will </span>fetch and build it automatically in a make session if you do <span class="T39">git submodule init</span><span class="T1"> </span>and <span class="T39">git submodule update</span><span class="T13"> </span><span class="T14">first.</span></p><p class="P85"/><p class="P85">Now you can start build the plain (as opposed to ota, over the air flash) version. Type <span class="T39">make IMAGE=plain</span> and wait <span class="T64">for completion.</span> The process will yield <span class="T36">two files: espiobridge-plain-iram-0x000000.bin and espiobridge-plain-irom-0x010000.bin, just like the precompiled images. They can be flashed as usual.</span></p><p class="P85"/><p class="P91"><span class="T37">If you're going to build the ota image, use </span><span class="T40">make IMAGE=ota</span><span class="T37"> (or leave out the </span><span class="T40">IMAGE=ota</span><span class="T37"> part, it's default). The build process uses part of RBOOT by Richard Burton in addition to the ESPTOOL2 tool. If you properly typed the above </span><span class="T40">git</span><span class="T10"> </span><span class="T37">commands, the submodule will be present and RBOOT will be built automatically during the build process. After the build has finished, you will have (a.o.) these files: espiobridge-rboot-boot.bin: the rboot binary, rboot-config.bin: the rboot configuration (no need to make one yourself), espiobridge-rboot-image: the actual Universal I/O bridge firmware. These files can be flashed like the precompiled OTA images. See further down the page for more detailed description.</span></p><p class="P91"/><p class="P90_borderEnd">There will also be a binary called otapush which is compiled with your host compiler. It's the program that needs to be run to push new firmware to the ESP8266. It's tested on Linux, but it's quite simple, so I guess it will work on any more-or-less POSIX-compliant operating system. The protocol is very simple anyway, <span class="T64">but used CRC and MD5 for data protection. There is no risk that any flipped bit during transfer or flashing will give erronous flash images.</span></p><h3 class="P6"><a id="a__Flashing_precompiled_images_or_self_built_images"><span/></a>Flashing precompiled images or self built images</h3><p class="P86_borderStart">The plain image consists of two files: espiobridge-plain-iram-0x000000.bin and espiobridge-plain-irom-0x010000.bin. These can be flashed to address 0x000000 and address 0x010000 respectively, using your flash tool of choice. </p><p class="P92"/><p class="P93">The ota image consists of three files:</p><p class="P93_borderEnd"/><table border="0" cellspacing="0" cellpadding="0" class="Table10"><colgroup><col width="197"/><col width="419"/><col width="215"/></colgroup><tr class="Table101"><td style="text-align:left;width:4.498cm; " class="Table10_A1"><p class="P34">file</p></td><td style="text-align:left;width:9.592cm; " class="Table10_A1"><p class="P34">use</p></td><td style="text-align:left;width:4.911cm; " class="Table10_C1"><p class="P34">flash to address</p></td></tr><tr><td style="text-align:left;width:4.498cm; " class="Table10_A2"><p class="P106">espiobridge-rboot-boot.bin</p></td><td style="text-align:left;width:9.592cm; " class="Table10_A2"><p class="P106"><span class="T59">t</span>he rboot binary</p></td><td style="text-align:left;width:4.911cm; " class="Table10_C2"><p class="P106">0x000000</p></td></tr><tr><td style="text-align:left;width:4.498cm; " class="Table10_A2"><p class="P106">rboot-config.bin</p></td><td style="text-align:left;width:9.592cm; " class="Table10_A2"><p class="P106">the rboot configuration (no need to make one yourself)</p></td><td style="text-align:left;width:4.911cm; " class="Table10_C2"><p class="P106">0x001000</p></td></tr><tr><td style="text-align:left;width:4.498cm; " class="Table10_A2"><p class="P106">espiobridge-rboot-image</p></td><td style="text-align:left;width:9.592cm; " class="Table10_A2"><p class="P106">the actual Universal I/O bridge firmware</p></td><td style="text-align:left;width:4.911cm; " class="Table10_C2"><p class="P107">0x002000</p></td></tr></table><p class="P91_borderStart"/><p class="P77_borderEnd">Or use <span class="T39">make flash</span> but for that you'll need to have esptool.py installed and you need to <span class="T59">adjust</span> ESPTOOL in the Makefile. <span class="T49">The </span><span class="T41">make flash</span><span class="T49"> command will also flash default and blank configuration sectors. They're not used by the I/O bridge though, it's just to make the SDK code happy.</span></p><h3 class="P6"><a id="a__Configuring_WLAN"><span/></a>Configuring WLAN</h3><p class="P93">Obviously, the I/O bridge needs to know the WLAN SSID and password to connect. You could configure them using the telnet connection to port 24, but for that you'd need the I/O bridge already connected. Chicken-and-egg The solution is to poke this information in the I/O bridge's configuration beforehand. There is an easy way and a hard way, but the easy way can only be used by those having the building environment (i.e. building the software themselves).</p><p class="P69">Easy way <span class="T60">(needs building environment)</span></p><p class="P74">Have the Makefile compile the config sector for you. Type <span class="T39">make CONFIG_SSID=&lt;ssid&gt; CONFIG_PASSWD=&lt;passwd&gt; default-config</span><span class="T1"> and the config sector is built and flashed (if esptool.py can be run). Replace </span><span class="T11">SSID</span><span class="T1"> and </span><span class="T11">PASSWD</span><span class="T1"> respectively. If you don't have esptool.py installed, see below how to flash it manually.</span></p><p class="P70">Hard way</p><p class="P93_borderStart">Use the supplied config file: default-config.bin, and process it with a hex editor (actually any editor that can deal with binary content will do). Replace the texts SSID and PASSWD with your own and flash it.</p><p class="P108"/><p class="P74"><span class="T8">Flash </span><span class="T9">the file </span><span class="T8">default-config.bin </span><span class="T9">that is built </span><span class="T8">or that you edited,</span><span class="T9"> to either 0x7a000 (plain image) or 0xfa000 (ota image).</span></p><p class="P72"/><p class="P75_borderEnd"><span class="T9">I</span><span class="T8">n previous versions there used to be a wlan bootstrap mode where you would enter the ssid and the password over the UART straight from startup, but it had many disadvantages, so I removed the feature.</span></p><h2 class="P68"><a id="a__Using_the_I_O_Bridge"><span/></a><span class="T9">U</span><span class="T8">sing the I/O Bridge</span></h2><h3 class="P6"><a id="a__Configuring_and_using_the_UART_bridge"><span/></a>Configuring <span class="T50">and using </span>the UART <span class="T50">bridge</span></h3><ul><li><p class="P118" style="margin-left:0cm;"><span class="Bullet_20_Symbols" style="display:block;float:left;min-width:0,635cm;"></span>Attach your microcontroller's UART lines or RS232C's line driver lines to the ESP8266, I think enough has been written about how to do that. <span class="odfLiEnd"/></p></li><li><p class="P76" style="margin-left:0cm;"><span class="Bullet_20_Symbols" style="display:block;float:left;min-width:0,635cm;"></span><span class="T5">Start a </span><span class="Source_20_Text"><span class="T5">telnet</span></span><span class="T5"> session to port 24 of the ip address, type </span><span class="Source_20_Text"><span class="T5">help</span></span><span class="T5"> and </span><span class="Source_20_Text"><span class="T5">&lt;enter&gt;</span></span><span class="T5">. </span><span class="odfLiEnd"/></p></li><li><p class="P94" style="margin-left:0cm;"><span class="Bullet_20_Symbols" style="display:block;float:left;min-width:0,635cm;"></span>You will now see all commands. <span class="odfLiEnd"/></p></li><li><p class="P76" style="margin-left:0cm;"><span class="Bullet_20_Symbols" style="display:block;float:left;min-width:0,635cm;"></span><span class="T5">Use the commands starting with </span><span class="T6">uart </span><span class="T5">to setup the UART. After that, issue the </span><span class="Source_20_Text"><span class="T5">config-write</span></span><span class="T5"> command to save and use the </span><span class="Source_20_Text"><span class="T5">reset</span></span><span class="T5"> command to restart. </span><span class="odfLiEnd"/></p></li><li><p class="P94" style="margin-left:0cm;"><span class="Bullet_20_Symbols" style="display:block;float:left;min-width:0,635cm;"></span>After restart you will have a transparent connection between tcp port 23 and the UART<span class="T29">;</span> tcp port 24 always <span class="T50">remains </span>available for control. <span class="odfLiEnd"/></p></li></ul><h3 class="P8"><a id="a__Configuring_and_using_IO_pins"><span/></a><span class="T57">Configuring and using </span>IO <span class="T57">pins</span></h3><p class="P82_borderStart">The I/O pins are organised in <span class="T54">devices</span> of at most 16 pins. Each pin <span class="T66">of each device </span>must be configured <span class="T57">to a mode it will be used in</span>. That goes even for pins that can only have one function (e.g. the <span class="T57">ADC </span>input). If a pin is not configured (i.e. set to mode disabled), it won't be used and not even initialised, <span class="T57">thereby keeping it's original function (e.g. UART) or remaining floating (HiZ).</span></p><p class="P82"/><p class="P82"><span class="T54">Device </span>0 <span class="T67">always </span>consists of the 16 normal built-in GPIO's. All can be used, except for 6 <span class="T66">to </span>11, which is used for the flash memory interface, they aren't allowed to be configured for GPIO. <span class="T67">In total e</span>ight pins can be configured for PWM operation, which is <span class="T67">generically </span>called analog output mode, because using a simple RC filter, it can be used as analog output.</p><p class="P82"/><p class="P82"><span class="T54">Device </span>1 <span class="T67">always </span>consists of <span class="T67">the </span>two special pins. Pin 0 is the extra GPIO, also known as the RTC GPIO. This is a simple I/O pin that can only do digital input and digital output, so PWM is not supported, but timer mode is supported. Pin 1 is the ADC input (analog input). The returned value <span class="T67">is </span>normalised to a 16 bit value (0-65535), but the precision won't be 16 bits, expect about <span class="T67">9-10</span> bits.</p><p class="P82"/><p class="P82">Higher <span class="T54">numbered devices </span>will represent externally connected I2C I/O expanders, like <span class="T67">the </span>MCP23017 <span class="T53">(16 I/O pins) </span>and PCF8574 <span class="T53">(8 I/O pins)</span>. <span class="T53">Each pin of these needs to be configured in the same way as the GPIO's from device 0 and device 1 (internal). These devices support digital input, digital output, counter and timer operation (using software emulation on the ESP8266 itself). PWM is not supported.</span></p><p class="P82"/><p class="P95">The following I/O pin modes are supported (depending on <span class="T57">each device</span> and pin), <span class="T56">using the io-mode command:</span></p><p class="P95_borderEnd"/><table border="0" cellspacing="0" cellpadding="0" class="Table11"><colgroup><col width="105"/><col width="253"/><col width="284"/><col width="188"/></colgroup><tr class="Table111"><td style="text-align:left;width:2.404cm; " class="Table11_A1"><p class="P35">I/O function</p></td><td style="text-align:left;width:5.798cm; " class="Table11_A1"><p class="P35">mode name for im command <span class="T55">etc.</span></p></td><td style="text-align:left;width:6.505cm; " class="Table11_A1"><p class="P35">function</p></td><td style="text-align:left;width:4.293cm; " class="Table11_D1"><p class="P35">available on device</p></td></tr><tr><td style="text-align:left;width:2.404cm; " class="Table11_A2"><p class="P42">disabled</p></td><td style="text-align:left;width:5.798cm; " class="Table11_A2"><p class="P42">disabled</p></td><td style="text-align:left;width:6.505cm; " class="Table11_A2"><p class="P42">pin isn't touched</p></td><td style="text-align:left;width:4.293cm; " class="Table11_D2"><p class="P42">all devices</p></td></tr><tr><td style="text-align:left;width:2.404cm; " class="Table11_A2"><p class="P42">digital input</p></td><td style="text-align:left;width:5.798cm; " class="Table11_A2"><p class="P42">inputd</p></td><td style="text-align:left;width:6.505cm; " class="Table11_A2"><p class="P42">digital two state input</p></td><td style="text-align:left;width:4.293cm; " class="Table11_D2"><p class="P42">most devices</p></td></tr><tr><td style="text-align:left;width:2.404cm; " class="Table11_A2"><p class="P42">counter</p></td><td style="text-align:left;width:5.798cm; " class="Table11_A2"><p class="P42">counter</p></td><td style="text-align:left;width:6.505cm; " class="Table11_A2"><p class="P42">count <span class="T67">(downward) </span>edges on digital input</p></td><td style="text-align:left;width:4.293cm; " class="Table11_D2"><p class="P42">most devices</p></td></tr><tr><td style="text-align:left;width:2.404cm; " class="Table11_A2"><p class="P42">digital output</p></td><td style="text-align:left;width:5.798cm; " class="Table11_A2"><p class="P42">outputd</p></td><td style="text-align:left;width:6.505cm; " class="Table11_A2"><p class="P42">digital two state output</p></td><td style="text-align:left;width:4.293cm; " class="Table11_D2"><p class="P42">most devices</p></td></tr><tr><td style="text-align:left;width:2.404cm; " class="Table11_A2"><p class="P42">timer</p></td><td style="text-align:left;width:5.798cm; " class="Table11_A2"><p class="P42">timer</p></td><td style="text-align:left;width:6.505cm; " class="Table11_A2"><p class="P42">trigger digital output once or repeatedly</p></td><td style="text-align:left;width:4.293cm; " class="Table11_D2"><p class="P42">most devices</p></td></tr><tr><td style="text-align:left;width:2.404cm; " class="Table11_A2"><p class="P42">analog input</p></td><td style="text-align:left;width:5.798cm; " class="Table11_A2"><p class="P42">inputa</p></td><td style="text-align:left;width:6.505cm; " class="Table11_A2"><p class="P42">analog input, <span class="T67">value 0  65535</span></p></td><td style="text-align:left;width:4.293cm; " class="Table11_D2"><p class="P42">ADC <span class="T67">pin </span>on device 1 only</p></td></tr><tr><td style="text-align:left;width:2.404cm; " class="Table11_A2"><p class="P42">analog output</p></td><td style="text-align:left;width:5.798cm; " class="Table11_A2"><p class="P42">outputa</p></td><td style="text-align:left;width:6.505cm; " class="Table11_A2"><p class="P42">analog output (or PWM), value 0  65535</p></td><td style="text-align:left;width:4.293cm; " class="Table11_D2"><p class="P42"><span class="T67">GPIO pin</span> on device 0 only</p></td></tr><tr><td style="text-align:left;width:2.404cm; " class="Table11_A2"><p class="P42">i2c</p></td><td style="text-align:left;width:5.798cm; " class="Table11_A2"><p class="P42">i2c</p></td><td style="text-align:left;width:6.505cm; " class="Table11_A2"><p class="P42">set pin to i2c sda or scl mode</p></td><td style="text-align:left;width:4.293cm; " class="Table11_D2"><p class="P42">GPIO on device 0 only</p></td></tr></table><p class="P95_borderStart"/><p class="P96">For each pin some flags can be (indepently) set or cleared, <span class="T56">using the io-set-flag and io-clear-flag commands:</span></p><p class="P96_borderEnd"/><table border="0" cellspacing="0" cellpadding="0" class="Table12"><colgroup><col width="174"/><col width="224"/><col width="275"/><col width="158"/></colgroup><tr class="Table121"><td style="text-align:left;width:3.992cm; " class="Table12_A1"><p class="P36">I/O additional feature</p></td><td style="text-align:left;width:5.115cm; " class="Table12_A1"><p class="P36">flags name for isf and icf etc.</p></td><td style="text-align:left;width:6.283cm; " class="Table12_A1"><p class="P36">function</p></td><td style="text-align:left;width:3.611cm; " class="Table12_D1"><p class="P36">available on mode</p></td></tr><tr><td rowspan="3" style="text-align:left;width:3.992cm; " class="Table12_A2"><p class="P43">autostart</p></td><td rowspan="3" style="text-align:left;width:5.115cm; " class="Table12_A2"><p class="P43">autostart</p></td><td style="text-align:left;width:6.283cm; " class="Table12_C2"><p class="P43"><span class="T33">digital output</span>: set the output to on after start (otherwise it's set to off)</p></td><td rowspan="3" style="text-align:left;width:3.611cm; " class="Table12_D7"><p class="P43">digital output, timer,</p><p class="P43">analog output</p></td></tr><tr><td style="text-align:left;width:6.283cm; " class="Table12_C3"><p class="P43"><span class="T33">timer</span>: trigger automatically after start, otherwise wait for explicit trigger</p></td></tr><tr><td style="text-align:left;width:6.283cm; " class="Table12_C4"><p class="P43"><span class="T33">analog output</span>: trigger the modulation feature, otherwise wait for explicit trigger.</p></td></tr><tr><td style="text-align:left;width:3.992cm; " class="Table12_A2"><p class="P43">repeat</p></td><td style="text-align:left;width:5.115cm; " class="Table12_A2"><p class="P43">repeat</p></td><td style="text-align:left;width:6.283cm; " class="Table12_A2"><p class="P44">repeat the trigger after one cycle</p></td><td style="text-align:left;width:3.611cm; " class="Table12_D7"><p class="P44">timer, analog output</p></td></tr><tr><td style="text-align:left;width:3.992cm; " class="Table12_A2"><p class="P43">pull-up</p></td><td style="text-align:left;width:5.115cm; " class="Table12_A2"><p class="P43">pullup</p></td><td style="text-align:left;width:6.283cm; " class="Table12_A2"><p class="P44">activate internal (weak) pull-up resistors</p></td><td style="text-align:left;width:3.611cm; " class="Table12_D7"><p class="P44">digital input, counter</p></td></tr><tr><td style="text-align:left;width:3.992cm; " class="Table12_A2"><p class="P43">reset on read</p></td><td style="text-align:left;width:5.115cm; " class="Table12_A2"><p class="P43">reset-on-read</p></td><td style="text-align:left;width:6.283cm; " class="Table12_A2"><p class="P44">reset the counter when it's read</p></td><td style="text-align:left;width:3.611cm; " class="Table12_D7"><p class="P44">counter</p></td></tr></table><h3 class="P10"><a id="a__Configuring_and_using_I2C"><span/></a>Configuring and using I2C</h3><p class="P3_borderStart"><span class="T18">To </span><span class="T19">use</span><span class="T18"> </span><span class="T19">I2C</span><span class="T18">, first </span><span class="T20">configure </span><span class="T18">two GPIO's as </span><span class="Emphasis"><span class="T21">sda</span></span><span class="T21"> </span><span class="T18">and </span><span class="Emphasis"><span class="T21">scl</span></span><span class="T18"> lines using the </span><span class="T46">im</span><span class="Source_20_Text"><span class="T45"> .. mode </span></span><span class="Source_20_Text"><span class="T47">i2c </span></span><span class="Source_20_Text"><span class="T45">sda</span></span><span class="T18"> and </span><span class="T46">im</span><span class="Source_20_Text"><span class="T45"> .. mode </span></span><span class="Source_20_Text"><span class="T47">i2c scl </span></span><span class="Source_20_Text"><span class="T48">&lt;delay&gt;</span></span><span class="Source_20_Text"><span class="T20"> </span></span><span class="T18">commands. </span><span class="T22">The &lt;delay&gt; needs to </span><span class="T23">5</span><span class="T22"> to able to communicate with generic I2C devices, it makes the bus run at just below 100 kHz. If you double the speed of the CPU, increase this value accordingly. Some devices can run at much higher speeds (Fastmode, Fastmode+, etc.), in that case, the delay can be lower and the </span><span class="T24">bus </span><span class="T22">speed </span><span class="T24">will in</span><span class="T22">creas, </span><span class="T24">b</span><span class="T22">ut make sure it's never faster than the slowest device on the bus. Some devices may proof difficult to </span><span class="T24">communicate with</span><span class="T22">. In that case, an additional delay might help.</span></p><p class="P109"/><p class="P109">Now use the raw I2C read and write commands to communicate. Don't forget to set the target slave address first. Most devices accept a register pointer as first data byte and then the values to write to this register. Similarly for a read from a certain register, write one byte (the register pointer) and then read one or more bytes.</p><p class="P109"/><p class="P109">The repeated-<span class="T61">start-condition</span> feature is not implemented. It has never been proven to be a real requirement, so I left it out.</p><p class="P109"/><p class="P3"><span class="T18">Besides the </span><span class="T19">well-known</span><span class="T18"> GPIOs, </span><span class="T22">it's </span><span class="T18">possible to use </span><span class="Emphasis"><span class="T21">GPIO0</span></span><span class="T21"> and </span><span class="Emphasis"><span class="T21">GPIO2</span></span><span class="T21"> (boot selection) </span><span class="T18">for </span><a href="mailto:I@C" class="Internet_20_link"><span class="T72">I</span></a><span class="T22">2C pins</span><span class="T18">, just as </span><span class="Emphasis"><span class="T21">GPIO1</span></span><span class="T21"> and </span><span class="Emphasis"><span class="T21">GPIO3</span></span><span class="T21"> </span><span class="T18">(normally connected to the UART) using a proper pull-up resistor. </span><span class="T22">This will come handy if you only have access to an ESP-01, that only has these GPIO's available.</span></p><p class="P109"/><p class="P1"><span class="T18">The selected GPIO's are set to </span><span class="Emphasis"><span class="T21">open drain</span></span><span class="T25"> </span><span class="T18">mode without </span><span class="T22">any </span><span class="Emphasis"><span class="T21">pull-up</span></span><span class="T18">, so you will have to add them yourself. The proper value of the resistors should be calculated but </span><span class="Emphasis"><span class="T21">4.7 kOhm</span></span><span class="T18"> usually works just fine. </span></p><p class="P114"/><p class="P97">Currently supported <span class="T52">I2C</span> sensors are:</p><p class="P116_borderEnd"/><ul><li><p class="P113" style="margin-left:0.748cm;"><span class="Bullet_20_Symbols" style="display:block;float:left;min-width:0.499cm;">.</span><span class="Emphasis"><span class="T21">digipicco</span></span><span class="T25"> </span><span class="T18">(temperature and humidity) </span><span class="odfLiEnd"/></p></li><li><p class="P115" style="margin-left:0.748cm;"><span class="Bullet_20_Symbols" style="display:block;float:left;min-width:0.499cm;">.</span><span class="Emphasis"><span class="T21">lm75</span></span><span class="T18"> (and compatible sensors, </span><span class="T20">at two different addresses</span><span class="T18">) (temperature) </span><span class="odfLiEnd"/></p></li><li><p class="P115" style="margin-left:0.748cm;"><span class="Bullet_20_Symbols" style="display:block;float:left;min-width:0.499cm;">.</span><span class="Emphasis"><span class="T21">ds1621/ds1631/ds1731</span></span><span class="T18"> (temperature) </span><span class="odfLiEnd"/></p></li><li><p class="P115" style="margin-left:0.748cm;"><span class="Bullet_20_Symbols" style="display:block;float:left;min-width:0.499cm;">.</span><span class="Emphasis"><span class="T21">bmp085</span></span><span class="T18"> (temperature and pressure) (untested for now) </span><span class="odfLiEnd"/></p></li><li><p class="P115" style="margin-left:0.748cm;"><span class="Bullet_20_Symbols" style="display:block;float:left;min-width:0.499cm;">.</span><span class="Emphasis"><span class="T21">htu21</span></span><span class="T18"> (temperature and humdity)</span><span class="odfLiEnd"/></p></li><li><p class="P115" style="margin-left:0.748cm;"><span class="Bullet_20_Symbols" style="display:block;float:left;min-width:0.499cm;">.</span><span class="Emphasis"><span class="T21">am2321</span></span><span class="T18"> (temperature and humidity) </span><span class="odfLiEnd"/></p></li><li><p class="P117" style="margin-left:0.748cm;"><span class="Bullet_20_Symbols" style="display:block;float:left;min-width:0.499cm;">.</span>tsl2550 (light intensity)<span class="odfLiEnd"/></p></li><li><p class="P115" style="margin-left:0.748cm;"><span class="Bullet_20_Symbols" style="display:block;float:left;min-width:0.499cm;">.</span><span class="Emphasis"><span class="T21">tsl2560</span></span><span class="T18"> (light intensity) </span><span class="odfLiEnd"/></p></li><li><p class="P115" style="margin-left:0.748cm;"><span class="Bullet_20_Symbols" style="display:block;float:left;min-width:0.499cm;">.</span><span class="Emphasis"><span class="T21">bh1750</span></span><span class="T18"> (light intensity). </span><span class="odfLiEnd"/></p></li></ul><h3 class="P6"><a id="a__Configuring_and_using_displays"><span/></a>Configuring and using displays</h3><p class="P98_borderStart">During startup, available displays are probed. There is no need to configure them manually. For the SAA1064, It does need a properly functioning I2C bus, though, so make sure it works.</p><p class="P92"/><p class="P92">All displays have 8 slots for messages that can be set using the <span class="T39">ds</span> (display-set) command: Use <span class="T39">dd</span> (display-dump) to show all detected displays, <span class="T51">you may want to </span>add a verbosity value (<span class="T39">0-2</span>) to see more detail. Finally the <span class="T39">db</span> (display-bright) command controls the brightness of the display. Valid values are <span class="T12">0</span> (off), <span class="T39">1, 2, 3, 4</span> (max).</p><p class="P92"/><p class="P92"><span class="T51">Note </span>the <span class="T32">SAA</span>1064 runs at 5V or higher. It cannot be connected to the <span class="T32">ESP</span>8266 directly, <span class="T51">i</span>t must have it's own 5V power supply and may or may not need <span class="T32">I2C</span> level shifters. I am using level shifters, but it may not be necessary<span class="T32">,</span> YMMV.</p><p class="P92"/><p class="P99_borderEnd">Next raw LCD displays will be added. These will be connected over an I2C I/O expander, so they will need I2C operation as well. The raw LCD display cannot be auto-detected, so they will have to be configured manually.</p><h2 class="P68"><a id="a__Command_reference"><span/></a>Command reference</h2><h3 class="P6"><a id="a__General__status_and_informational_commands"><span/></a><span class="T68">General, s</span>tatus and informational commands</h3><table border="0" cellspacing="0" cellpadding="0" class="Table1"><colgroup><col width="83"/><col width="201"/><col width="205"/><col width="341"/></colgroup><tr class="Table11"><td style="text-align:left;width:1.896cm; " class="Table1_A1"><p class="P4">command</p></td><td style="text-align:left;width:4.609cm; " class="Table1_A1"><p class="P4">alternate (long) command</p></td><td style="text-align:left;width:4.695cm; " class="Table1_A1"><p class="P4">parameters</p></td><td style="text-align:left;width:7.8cm; " class="Table1_D1"><p class="P4">description</p></td></tr><tr><td style="text-align:left;width:1.896cm; " class="Table1_A2"><p class="P12">ccd</p></td><td style="text-align:left;width:4.609cm; " class="Table1_A2"><p class="P12">current-config-dump</p></td><td style="text-align:left;width:4.695cm; " class="Table1_A2"><p class="P39"></p></td><td style="text-align:left;width:7.8cm; " class="Table1_D2"><p class="P45">Show currently used config (not saved to flash).</p></td></tr><tr><td style="text-align:left;width:1.896cm; " class="Table1_A2"><p class="P12">cd</p></td><td style="text-align:left;width:4.609cm; " class="Table1_A2"><p class="P12">config-dump</p></td><td style="text-align:left;width:4.695cm; " class="Table1_A2"><p class="P11"></p></td><td style="text-align:left;width:7.8cm; " class="Table1_D2"><p class="P45">Show config from flash (active after next restart).</p></td></tr><tr><td style="text-align:left;width:1.896cm; " class="Table1_A2"><p class="P12">cw</p></td><td style="text-align:left;width:4.609cm; " class="Table1_A2"><p class="P12">config-write</p></td><td style="text-align:left;width:4.695cm; " class="Table1_A2"><p class="P11"></p></td><td style="text-align:left;width:7.8cm; " class="Table1_D2"><p class="P45">Write current config to flash.</p></td></tr><tr><td style="text-align:left;width:1.896cm; " class="Table1_A2"><p class="P12">gss</p></td><td style="text-align:left;width:4.609cm; " class="Table1_A2"><p class="P12">gpio-status-set</p></td><td style="text-align:left;width:4.695cm; " class="Table1_A2"><p class="P21">io pin</p></td><td style="text-align:left;width:7.8cm; " class="Table1_D2"><p class="P45">Select the io device and pin to trigger when general status changes (currently on reception of a command). Set io and pin to -1 to disable this feature. On trigger, a value of -1 is written to this pin, so generally you'd want to use a timer down mode pin for this purpose (so the pin is reset after some time).</p></td></tr><tr><td style="text-align:left;width:1.896cm; " class="Table1_A2"><p class="P12">nd</p></td><td style="text-align:left;width:4.609cm; " class="Table1_A2"><p class="P12">ntp-dump</p></td><td style="text-align:left;width:4.695cm; " class="Table1_A2"><p class="P11"></p></td><td style="text-align:left;width:7.8cm; " class="Table1_D2"><p class="P45">Show current ntp status (if configured).</p></td></tr><tr><td style="text-align:left;width:1.896cm; " class="Table1_A2"><p class="P12">ns</p></td><td style="text-align:left;width:4.609cm; " class="Table1_A2"><p class="P12">ntp-set</p></td><td style="text-align:left;width:4.695cm; " class="Table1_A2"><p class="P12"><span class="T31">ntp-server-ip</span> <span class="T31">timezone-hours</span></p></td><td style="text-align:left;width:7.8cm; " class="Table1_D2"><p class="P45">Setup ntp server. Allow it to run for a few minutes before the correct time is acquired.</p></td></tr><tr><td style="text-align:left;width:1.896cm; " class="Table1_A2"><p class="P11">?</p></td><td style="text-align:left;width:4.609cm; " class="Table1_A2"><p class="P12">help</p></td><td style="text-align:left;width:4.695cm; " class="Table1_A2"><p class="P11"></p></td><td style="text-align:left;width:7.8cm; " class="Table1_D2"><p class="P45">Show all commands and usage in brief.</p></td></tr><tr><td style="text-align:left;width:1.896cm; " class="Table1_A2"><p class="P12">q</p></td><td style="text-align:left;width:4.609cm; " class="Table1_A2"><p class="P12">quit</p></td><td style="text-align:left;width:4.695cm; " class="Table1_A2"><p class="P11"></p></td><td style="text-align:left;width:7.8cm; " class="Table1_D2"><p class="P45">Close the current command connection. If idle for over 30 seconds, the connection is closed anyway.</p></td></tr><tr><td style="text-align:left;width:1.896cm; " class="Table1_A2"><p class="P12">r</p></td><td style="text-align:left;width:4.609cm; " class="Table1_A2"><p class="P12">reset</p></td><td style="text-align:left;width:4.695cm; " class="Table1_A2"><p class="P11"></p></td><td style="text-align:left;width:7.8cm; " class="Table1_D2"><p class="P45">Reset/reboot the device. Necessary to activate some change (like PWM), after having written the config using cw.</p></td></tr><tr><td style="text-align:left;width:1.896cm; " class="Table1_A2"><p class="P13">rs</p></td><td style="text-align:left;width:4.609cm; " class="Table1_A2"><p class="P13">rtc-set</p></td><td style="text-align:left;width:4.695cm; " class="Table1_A2"><p class="P13"><span class="T31">hh</span>:<span class="T31">mm</span></p></td><td style="text-align:left;width:7.8cm; " class="Table1_D2"><p class="P46">Set internal clock, works even without NTP but may run out of sync on the long term. If NTP is used, the internal clock is synchronised every minute.</p></td></tr><tr><td style="text-align:left;width:1.896cm; " class="Table1_A2"><p class="P13">s or u</p></td><td style="text-align:left;width:4.609cm; " class="Table1_A2"><p class="P13">set or unset</p></td><td style="text-align:left;width:4.695cm; " class="Table1_A2"><p class="P22">flag_name</p></td><td style="text-align:left;width:7.8cm; " class="Table1_D2"><p class="P46">Set or unset generic operation flags. Use set or unset without arguments to get a list of currently supported flags. </p></td></tr><tr><td style="text-align:left;width:1.896cm; " class="Table1_A2"><p class="P13">S</p></td><td style="text-align:left;width:4.609cm; " class="Table1_A2"><p class="P13">stats</p></td><td style="text-align:left;width:4.695cm; " class="Table1_A2"><p class="P11"></p></td><td style="text-align:left;width:7.8cm; " class="Table1_D2"><p class="P46">Retrieve running statistics.</p></td></tr><tr><td style="text-align:left;width:1.896cm; " class="Table1_A2"><p class="P13">ws</p></td><td style="text-align:left;width:4.609cm; " class="Table1_A2"><p class="P13">wlan-scan</p></td><td style="text-align:left;width:4.695cm; " class="Table1_A2"><p class="P11"></p></td><td style="text-align:left;width:7.8cm; " class="Table1_D2"><p class="P46">Scan for SSID's. Issue this command first, then wait a few seconds and then issue wlan-list.</p></td></tr><tr><td style="text-align:left;width:1.896cm; " class="Table1_A2"><p class="P13">wl</p></td><td style="text-align:left;width:4.609cm; " class="Table1_A2"><p class="P13">wlan-list</p></td><td style="text-align:left;width:4.695cm; " class="Table1_A2"><p class="P39"></p></td><td style="text-align:left;width:7.8cm; " class="Table1_D2"><p class="P46">List SSID's found with wlan-scan.</p></td></tr></table><h3 class="P6"><a id="a__I_O_configuration_and_related_commands"><span/></a>I/O configuration and related commands</h3><table border="0" cellspacing="0" cellpadding="0" class="Table2"><colgroup><col width="83"/><col width="205"/><col width="293"/><col width="249"/></colgroup><tr class="Table21"><td style="text-align:left;width:1.896cm; " class="Table2_A1"><p class="P37">command</p></td><td style="text-align:left;width:4.697cm; " class="Table2_A1"><p class="P4">alternate (long) command / <span class="T69">submode</span></p></td><td style="text-align:left;width:6.703cm; " class="Table2_A1"><p class="P4">parameters</p></td><td style="text-align:left;width:5.704cm; " class="Table2_D1"><p class="P4">description</p></td></tr><tr><td style="text-align:left;width:1.896cm; " class="Table2_A2"><p class="P13">im</p></td><td style="text-align:left;width:4.697cm; " class="Table2_A2"><p class="P13"><span class="T69">io-</span>mode</p></td><td style="text-align:left;width:6.703cm; " class="Table2_A2"><p class="P22">io_device io_pin mode mode_parameters</p></td><td style="text-align:left;width:5.704cm; " class="Table2_D2"><p class="P46">Configure pin mode.</p></td></tr><tr><td rowspan="10" style="text-align:left;width:1.896cm; " class="Table2_A2"><p class="P39"></p></td><td style="text-align:left;width:4.697cm; " class="Table2_A2"><p class="P47">mode=<span class="T39">inputd</span></p></td><td style="text-align:left;width:6.703cm; " class="Table2_A2"><p class="P14">inputd</p></td><td style="text-align:left;width:5.704cm; " class="Table2_D2"><p class="P47">Set pin to digital input <span class="T71">mode</span>.</p></td></tr><tr><td style="text-align:left;width:4.697cm; " class="Table2_A2"><p class="P47">mode=<span class="T39">counter</span></p></td><td style="text-align:left;width:6.703cm; " class="Table2_A2"><p class="P47"><span class="T39">counter</span> <span class="T42">debounce</span></p></td><td style="text-align:left;width:5.704cm; " class="Table2_D2"><p class="P47">Set pin to digital input <span class="T71">mode</span>, count downward transitions. Set debounce in milliseconds.</p></td></tr><tr><td style="text-align:left;width:4.697cm; " class="Table2_A2"><p class="P47">mode=<span class="T39">outputd</span></p></td><td style="text-align:left;width:6.703cm; " class="Table2_A2"><p class="P14">outputd</p></td><td style="text-align:left;width:5.704cm; " class="Table2_D2"><p class="P47">Set pin to digital output <span class="T71">mode.</span></p></td></tr><tr><td style="text-align:left;width:4.697cm; " class="Table2_A2"><p class="P47">mode=<span class="T39">timer</span></p></td><td style="text-align:left;width:6.703cm; " class="Table2_A2"><p class="P14">timer <span class="T31">direction</span> <span class="T31">delay</span></p></td><td style="text-align:left;width:5.704cm; " class="Table2_D2"><p class="P47">Set <span class="T71">pin </span>to timer <span class="T71">mode</span>. Direction is up or down and specifies the default state and triggered state (down: default up, triggered down, up: default down, triggerend up). Delay is time before state is set to default after trigger.</p></td></tr><tr><td style="text-align:left;width:4.697cm; " class="Table2_A2"><p class="P48">mode=<span class="T43">inputa</span></p></td><td style="text-align:left;width:6.703cm; " class="Table2_A2"><p class="P39"></p></td><td style="text-align:left;width:5.704cm; " class="Table2_D2"><p class="P48">Set pin to analog input mode.</p></td></tr><tr><td style="text-align:left;width:4.697cm; " class="Table2_A2"><p class="P47">mode=<span class="T39">outputa (1)</span></p></td><td style="text-align:left;width:6.703cm; " class="Table2_A2"><p class="P39"></p></td><td style="text-align:left;width:5.704cm; " class="Table2_D2"><p class="P47">Select analog output (or PWM). Default value is 0.</p></td></tr><tr><td style="text-align:left;width:4.697cm; " class="Table2_A2"><p class="P47">mode=<span class="T39">outputa (2)</span></p></td><td style="text-align:left;width:6.703cm; " class="Table2_A2"><p class="P23">default_value</p></td><td style="text-align:left;width:5.704cm; " class="Table2_D2"><p class="P47">Select analog output (or PWM). Default value set to argument (0-65535).</p></td></tr><tr><td style="text-align:left;width:4.697cm; " class="Table2_A2"><p class="P47">mode=<span class="T39">outputa (3)</span></p></td><td style="text-align:left;width:6.703cm; " class="Table2_A2"><p class="P23">lower_bound upper_bound delay</p></td><td style="text-align:left;width:5.704cm; " class="Table2_D2"><p class="P47">Select analog output (or PWM). After (auto-)trigger start to modulate between lower_bound and upper_bound at specified speed (ms / 10000).</p></td></tr><tr><td style="text-align:left;width:4.697cm; " class="Table2_A2"><p class="P23"><span class="T15">mode=</span><span class="T70">i2c</span></p></td><td style="text-align:left;width:6.703cm; " class="Table2_A2"><p class="P14">sda</p></td><td style="text-align:left;width:5.704cm; " class="Table2_D2"><p class="P47">Configure built-in GPIO for I2C/sda use.</p></td></tr><tr><td style="text-align:left;width:4.697cm; " class="Table2_A2"><p class="P23"><span class="T15">mode=</span><span class="T70">i2c</span></p></td><td style="text-align:left;width:6.703cm; " class="Table2_A2"><p class="P14">scl <span class="T31">bus_delay</span></p></td><td style="text-align:left;width:5.704cm; " class="Table2_D2"><p class="P47">Configure built-in GPIO for I2C/scl use. Set bus_delay to 5 for standard 100 khz bus, lower value is higher bus speed and v.v.</p></td></tr><tr><td style="text-align:left;width:1.896cm; " class="Table2_A13"><p class="P15">ir</p></td><td style="text-align:left;width:4.697cm; " class="Table2_B13"><p class="P30">io-read</p></td><td style="text-align:left;width:6.703cm; " class="Table2_C13"><p class="P25">io_device io_pin</p></td><td style="text-align:left;width:5.704cm; " class="Table2_D13"><p class="P49">Read pin. Source of the value depends on the mode of the pin. Counter e.g. returns the current counter value. Outputs can also be read, they return the actual pin state, not that of the output latch.</p></td></tr><tr><td rowspan="8" style="text-align:left;width:1.896cm; " class="Table2_A2"><p class="P16">iw</p></td><td style="text-align:left;width:4.697cm; " class="Table2_A2"><p class="P31">io-write</p></td><td rowspan="8" style="text-align:left;width:6.703cm; " class="Table2_A2"><p class="P26">io_device io_pin <span class="T71">value</span></p></td><td style="text-align:left;width:5.704cm; " class="Table2_D2"><p class="P48">Write pin. Semantics differ for various pin modes.</p></td></tr><tr><td style="text-align:left;width:4.697cm; " class="Table2_A2"><p class="P56"><span class="T65">mode=</span><span class="T38">inputd</span></p></td><td style="text-align:left;width:5.704cm; " class="Table2_D2"><p class="P48">Not implemented.</p></td></tr><tr><td style="text-align:left;width:4.697cm; " class="Table2_A2"><p class="P56"><span class="T65">mode=</span><span class="T38">counter</span></p></td><td style="text-align:left;width:5.704cm; " class="Table2_D2"><p class="P48">Write counter value directly.</p></td></tr><tr><td style="text-align:left;width:4.697cm; " class="Table2_A2"><p class="P56"><span class="T65">mode=</span><span class="T38">outputd</span></p></td><td style="text-align:left;width:5.704cm; " class="Table2_D2"><p class="P48">Write value. 0 is off, any other value is on</p></td></tr><tr><td style="text-align:left;width:4.697cm; " class="Table2_A2"><p class="P56"><span class="T13">mode=</span><span class="T38">timer</span></p></td><td style="text-align:left;width:5.704cm; " class="Table2_D2"><p class="P50">Control counter output. 0 is set pin to default, other value is trigger timer (set to active and start timer).</p></td></tr><tr><td style="text-align:left;width:4.697cm; " class="Table2_A2"><p class="P56"><span class="T13">mode=</span><span class="T44">in</span><span class="T38">puta</span></p></td><td style="text-align:left;width:5.704cm; " class="Table2_D2"><p class="P50">Not implemented.</p></td></tr><tr><td style="text-align:left;width:4.697cm; " class="Table2_A2"><p class="P56"><span class="T13">mode=</span><span class="T38">outputa</span></p></td><td style="text-align:left;width:5.704cm; " class="Table2_D2"><p class="P50">Write analog output. If -1 is given and the this is a auto-modulating analog output (see mode=outputa (3)), start modulating. Otherwise just set the current value of the output.</p></td></tr><tr><td style="text-align:left;width:4.697cm; " class="Table2_A2"><p class="P24"><span class="T15">mode=</span><span class="T70">i2c</span></p></td><td style="text-align:left;width:5.704cm; " class="Table2_D2"><p class="P50">Not implemented.</p></td></tr><tr><td rowspan="5" style="text-align:left;width:1.896cm; " class="Table2_A22"><p class="P17">isf <span class="T13">or</span><span class="T1"> </span>icf</p></td><td style="text-align:left;width:4.697cm; " class="Table2_A22"><p class="P32">io-set-flag or io-clear_flag</p></td><td rowspan="5" style="text-align:left;width:6.703cm; " class="Table2_A22"><p class="P27">io_device io_pin flag</p></td><td style="text-align:left;width:5.704cm; " class="Table2_D22"><p class="P51">Set or clear flags for a pin.</p></td></tr><tr><td style="text-align:left;width:4.697cm; " class="Table2_A22"><p class="P57"><span class="T65">flag=</span><span class="T38">autostart</span></p></td><td style="text-align:left;width:5.704cm; " class="Table2_D22"><p class="P52">Automatically start this pin at start.</p><p class="P52"></p><p class="P52">For a digital output pin this means set to on instead of default off. </p><p class="P52"></p><p class="P52">For a timer or a modulated analog output this means trigger automatically at start. Otherwise these types of pins need to be triggered automatically by writing to them.</p></td></tr><tr><td style="text-align:left;width:4.697cm; " class="Table2_A22"><p class="P57"><span class="T65">flag=</span><span class="T38">repeat</span></p></td><td style="text-align:left;width:5.704cm; " class="Table2_D22"><p class="P52">For a timer or a modulated analog output this mean repeat after the first cycle. Otherwise stop after one cycle.</p></td></tr><tr><td style="text-align:left;width:4.697cm; " class="Table2_A22"><p class="P57"><span class="T65">flag=</span><span class="T38">pullup</span></p></td><td style="text-align:left;width:5.704cm; " class="Table2_D22"><p class="P52">For a digital input or counter, activate the built-in weak pull-up.</p></td></tr><tr><td style="text-align:left;width:4.697cm; " class="Table2_A22"><p class="P57"><span class="T65">flag=</span><span class="T38">reset_on_read</span></p></td><td style="text-align:left;width:5.704cm; " class="Table2_D22"><p class="P52">For a timer, when it's read, also reset it automatically.</p></td></tr></table><h3 class="P6"><a id="a__UART_configuration_and_related_commands"><span/></a>UART configuration and related commands</h3><table border="0" cellspacing="0" cellpadding="0" class="Table3"><colgroup><col width="83"/><col width="205"/><col width="335"/><col width="208"/></colgroup><tr class="Table31"><td style="text-align:left;width:1.896cm; " class="Table3_A1"><p class="P38">command</p></td><td style="text-align:left;width:4.697cm; " class="Table3_A1"><p class="P4">alternate (long) command</p></td><td style="text-align:left;width:7.657cm; " class="Table3_A1"><p class="P38">parameters</p></td><td style="text-align:left;width:4.75cm; " class="Table3_D1"><p class="P38">description</p></td></tr><tr><td style="text-align:left;width:1.896cm; " class="Table3_A2"><p class="P18">ub</p></td><td style="text-align:left;width:4.697cm; " class="Table3_A2"><p class="P18">uart-baud</p></td><td style="text-align:left;width:7.657cm; " class="Table3_A2"><p class="P28">baud_rate</p></td><td style="text-align:left;width:4.75cm; " class="Table3_D2"><p class="P53">Set baud rate.</p></td></tr><tr><td style="text-align:left;width:1.896cm; " class="Table3_A2"><p class="P18">ud</p></td><td style="text-align:left;width:4.697cm; " class="Table3_A2"><p class="P18">uart-data</p></td><td style="text-align:left;width:7.657cm; " class="Table3_A2"><p class="P28">data_bits</p></td><td style="text-align:left;width:4.75cm; " class="Table3_D2"><p class="P53">Set data bits (6, 7 or 8).</p></td></tr><tr><td style="text-align:left;width:1.896cm; " class="Table3_A2"><p class="P18">us</p></td><td style="text-align:left;width:4.697cm; " class="Table3_A2"><p class="P18">uart-stop</p></td><td style="text-align:left;width:7.657cm; " class="Table3_A2"><p class="P28">stop_bits</p></td><td style="text-align:left;width:4.75cm; " class="Table3_D2"><p class="P53">Set stop bits (1 or 2).</p></td></tr><tr><td style="text-align:left;width:1.896cm; " class="Table3_A2"><p class="P18">up</p></td><td style="text-align:left;width:4.697cm; " class="Table3_A2"><p class="P18">uart-parity</p></td><td style="text-align:left;width:7.657cm; " class="Table3_A2"><p class="P28">parity</p></td><td style="text-align:left;width:4.75cm; " class="Table3_D2"><p class="P53">Set parity (none/even/odd).</p></td></tr></table><h3 class="P6"><a id="a__I2C_related_commands"><span/></a>I2C related commands</h3><table border="0" cellspacing="0" cellpadding="0" class="Table4"><colgroup><col width="92"/><col width="131"/><col width="236"/><col width="372"/></colgroup><tr class="Table41"><td style="text-align:left;width:2.096cm; " class="Table4_A1"><p class="P58">command</p></td><td style="text-align:left;width:2.999cm; " class="Table4_A1"><p class="P58">alternate (long) command</p></td><td style="text-align:left;width:5.401cm; " class="Table4_A1"><p class="P58">parameters</p></td><td style="text-align:left;width:8.505cm; " class="Table4_D1"><p class="P58">description</p></td></tr><tr><td style="text-align:left;width:2.096cm; " class="Table4_A2"><p class="P19">i2a</p></td><td style="text-align:left;width:2.999cm; " class="Table4_A2"><p class="P19">i2c-address</p></td><td style="text-align:left;width:5.401cm; " class="Table4_A2"><p class="P29">address</p></td><td style="text-align:left;width:8.505cm; " class="Table4_D2"><p class="P54">Set I2C slave's address to use for other commands. Specify hex number from 0 to 7a. Don't include the r/w bit and don't include 0x.</p></td></tr><tr><td style="text-align:left;width:2.096cm; " class="Table4_A2"><p class="P19">i2r</p></td><td style="text-align:left;width:2.999cm; " class="Table4_A2"><p class="P19">i2c-read</p></td><td style="text-align:left;width:5.401cm; " class="Table4_A2"><p class="P29">number_of_bytes_to_read</p></td><td style="text-align:left;width:8.505cm; " class="Table4_D2"><p class="P54">Read this amount of bytes from the current I2C slave.</p></td></tr><tr><td style="text-align:left;width:2.096cm; " class="Table4_A2"><p class="P19">i2w</p></td><td style="text-align:left;width:2.999cm; " class="Table4_A2"><p class="P19">i2c-write</p></td><td style="text-align:left;width:5.401cm; " class="Table4_A2"><p class="P29">byte_to_write, ...</p></td><td style="text-align:left;width:8.505cm; " class="Table4_D2"><p class="P54">Write these bytes to the current I2C slave. <span class="T75">Bytes</span> can be specified in either decimal or hexadecimal, in which case they should be prefixed with 0x.</p></td></tr><tr><td style="text-align:left;width:2.096cm; " class="Table4_A2"><p class="P19">i2rst</p></td><td style="text-align:left;width:2.999cm; " class="Table4_A2"><p class="P19">i2c-reset</p></td><td style="text-align:left;width:5.401cm; " class="Table4_A2"><p class="P20"></p></td><td style="text-align:left;width:8.505cm; " class="Table4_D2"><p class="P55">Reset the I2C bus. This also attempts to convince stuck slaves to release the bus, it may or may not work.</p></td></tr></table><h3 class="Heading_20_3"><a id="a__I2C_sensor_related_commands"><span/></a>I2C sensor related commands</h3><table border="0" cellspacing="0" cellpadding="0" class="Table5"><colgroup><col width="83"/><col width="210"/><col width="231"/><col width="306"/></colgroup><tr class="Table51"><td style="text-align:left;width:1.896cm; " class="Table5_A1"><p class="P61">command</p></td><td style="text-align:left;width:4.807cm; " class="Table5_A1"><p class="P61">alternate (long) command</p></td><td style="text-align:left;width:5.292cm; " class="Table5_A1"><p class="P61">parameters</p></td><td style="text-align:left;width:7.006cm; " class="Table5_D1"><p class="P61">description</p></td></tr><tr><td style="text-align:left;width:1.896cm; " class="Table5_A2"><p class="P64">isd</p></td><td style="text-align:left;width:4.807cm; " class="Table5_A2"><p class="P64">i2c-sensor-dump</p></td><td style="text-align:left;width:5.292cm; " class="Table5_A2"><p class="P66">verbosity</p></td><td style="text-align:left;width:7.006cm; " class="Table5_D2"><p class="P59">List all detected sensors. Use the id's from this list to query the value (using isr). If verbosity is 0 or missing, only show found sensors. If it's 1, show all known sensors. If it's 2, show all known sensors including verbose error reporting.</p></td></tr><tr><td style="text-align:left;width:1.896cm; " class="Table5_A2"><p class="P64">isr</p></td><td style="text-align:left;width:4.807cm; " class="Table5_A2"><p class="P64">i2c-sensor-read</p></td><td style="text-align:left;width:5.292cm; " class="Table5_A2"><p class="P66">sensor_id</p></td><td style="text-align:left;width:7.006cm; " class="Table5_D2"><p class="P59">Read a sensor.</p></td></tr><tr><td style="text-align:left;width:1.896cm; " class="Table5_A2"><p class="P64">isc</p></td><td style="text-align:left;width:4.807cm; " class="Table5_A2"><p class="P64">i2c-sensor-calibrate</p></td><td style="text-align:left;width:5.292cm; " class="Table5_A2"><p class="P66">sensor_id factor offset</p></td><td style="text-align:left;width:7.006cm; " class="Table5_D2"><p class="P59">Calibrate a sensor. Specify a value (float) to multiply the value by (<span class="T39">factor</span>) and a value to be added (or subtracted) from the value (<span class="T39">offset</span>). The calibration is saved in flash together with the config using config-write. If the parameters are left out, list all current calibrations.</p></td></tr></table><h3 class="Heading_20_3"><a id="a__OTA_commands"><span/></a>OTA commands</h3><p class="P110_borderStart">Note: these commands are not meant to be used directly. They're meant to be used in concerto with a host-side application that uploads a new image. See otapush.c for an example.</p><p class="P110_borderEnd"/><table border="0" cellspacing="0" cellpadding="0" class="Table6"><colgroup><col width="83"/><col width="122"/><col width="179"/><col width="446"/></colgroup><tr class="Table61"><td style="text-align:left;width:1.896cm; " class="Table6_A1"><p class="P62">command</p></td><td style="text-align:left;width:2.801cm; " class="Table6_A1"><p class="P61">alternate (long) command</p></td><td style="text-align:left;width:4.101cm; " class="Table6_A1"><p class="P62">parameters</p></td><td style="text-align:left;width:10.202cm; " class="Table6_D1"><p class="P62">description</p></td></tr><tr><td style="text-align:left;width:1.896cm; " class="Table6_A2"><p class="P65">ow</p></td><td style="text-align:left;width:2.801cm; " class="Table6_A2"><p class="P65">ota-write</p></td><td style="text-align:left;width:4.101cm; " class="Table6_A2"><p class="P67">image_length</p></td><td style="text-align:left;width:10.202cm; " class="Table6_D2"><p class="P60">Start a firmware upload cycle. Specify the total amount of bytes that will be sent.</p></td></tr><tr><td style="text-align:left;width:1.896cm; " class="Table6_A2"><p class="P65">ov</p></td><td style="text-align:left;width:2.801cm; " class="Table6_A2"><p class="P65">ota-verify</p></td><td style="text-align:left;width:4.101cm; " class="Table6_A2"><p class="P67">image_length</p></td><td style="text-align:left;width:10.202cm; " class="Table6_D2"><p class="P60">Start a firmware verify cycle. Specify the total amount of bytes that will be sent.</p></td></tr><tr><td style="text-align:left;width:1.896cm; " class="Table6_A2"><p class="P65">os</p></td><td style="text-align:left;width:2.801cm; " class="Table6_A2"><p class="P65">ota-send</p></td><td style="text-align:left;width:4.101cm; " class="Table6_A2"><p class="P67">chunk_length crc bytes...</p></td><td style="text-align:left;width:10.202cm; " class="Table6_D2"><p class="P60">Send the next chunk. A chunk should be 256, 512 or 1024 bytes in size. If a transer using 1024 bytes doesn't succeed, try lower values. Also send the CRC32 of the chunk and then the data as raw binary content. Don't add newlines. Repeat until all data is sent or call ota-finish to either finish (when done) or cancel (when not complete). Every time a complete flash sector has been received, it will be written to flash and verified to both the received data and the received CRC32. <span class="T77">If the chunk went well, the word ACK followed by the chunk ordinal will be replied.</span></p></td></tr><tr><td style="text-align:left;width:1.896cm; " class="Table6_A2"><p class="P65">of</p></td><td style="text-align:left;width:2.801cm; " class="Table6_A2"><p class="P65">ota-finish</p></td><td style="text-align:left;width:4.101cm; " class="Table6_A2"><p class="P67">md5_sum</p></td><td style="text-align:left;width:10.202cm; " class="Table6_D2"><p class="P60">Finish up. Send the md5_sum over the complete file as hex string. <span class="T77">If everything went well, the string VERIFY_OK or WRITE_OK will be replied (depending on the requested operation).</span></p></td></tr><tr><td style="text-align:left;width:1.896cm; " class="Table6_A2"><p class="P65">oc</p></td><td style="text-align:left;width:2.801cm; " class="Table6_A2"><p class="P65">ota-commit</p></td><td style="text-align:left;width:4.101cm; " class="Table6_A2"><p class="P63"></p></td><td style="text-align:left;width:10.202cm; " class="Table6_D2"><p class="P60">If everything went well, toggle the current boot bank and reset. <span class="T77">Replies OTA commit slot + the new slot number if all went well.</span></p></td></tr></table><p class="P110"></p><!--Next 'div' was a 'text:section'.--><div class="Sect1" id="js-repo-pjax-container"><!--Next 'div' was a 'text:section'.--><div class="Sect1" id="readme"><p class="Text_20_body"><span class="T18">See here for latest news and join the discussion: </span><a href="http://www.esp8266.com/viewtopic.php?t=3959" class="Internet_20_link"><span class="T72">http://www.esp8266.com/viewtopic.php?t=3959</span></a><span class="T18">, old topic: </span><a href="http://www.esp8266.com/viewtopic.php?&amp;t=3212" class="Internet_20_link"><span class="T72">http://www.esp8266.com/viewtopic.php?&amp;t=3212</span></a><span class="T18">.</span></p></div></div><ul><li><p class="P73"></p></li></ul></body></html>